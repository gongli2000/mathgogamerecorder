(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 8.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       157,          7]
NotebookDataLength[    100299,       1886]
NotebookOptionsPosition[     98571,       1838]
NotebookOutlinePosition[     98927,       1854]
CellTagsIndexPosition[     98884,       1851]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{"\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{
    "SetDirectory", "[", 
     "\"\</Users/macbookpro/Documents/recorder tests/dennissmall/\>\"", "]"}],
     ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
    "SetDirectory", "[", "\"\</Users/macbookpro/Documents/ReedSnowGame\>\"", 
     "]"}], ";"}], "\n", 
   RowBox[{
    RowBox[{
     RowBox[{"makefilename", "[", "n_", "]"}], ":=", 
     RowBox[{"\"\<image\>\"", "<>", 
      RowBox[{"IntegerString", "[", "n", "]"}], " ", "<>", " ", 
      "\"\<.jpg\>\""}]}], ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"makefilenameSnow", "[", "n_", "]"}], ":=", 
    RowBox[{"\"\<IMG_\>\"", " ", "<>", " ", 
     RowBox[{"IntegerString", "[", "n", "]"}], " ", "<>", " ", 
     "\"\<.JPG\>\""}]}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"getfile", "[", "filename_", "]"}], ":=", 
     RowBox[{"ColorConvert", "[", 
      RowBox[{
       RowBox[{"Import", "[", "filename", "]"}], ",", "\"\<Grayscale\>\""}], 
      "]"}]}], ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", " ", 
   RowBox[{
    RowBox[{
     RowBox[{"getfileColor", "[", "filename_", "]"}], ":=", 
     RowBox[{"Import", "[", "filename", "]"}]}], ";"}]}]}]], "Input",
 CellChangeTimes->{{3.583436315438991*^9, 3.583436368120729*^9}, {
   3.5834364274413424`*^9, 3.5834364692434883`*^9}, {3.58343659158645*^9, 
   3.583436596411428*^9}, {3.583436661419263*^9, 3.583436694759347*^9}, {
   3.583436741141678*^9, 3.5834367613261957`*^9}, {3.58343683966567*^9, 
   3.583436849483515*^9}, {3.583436884538213*^9, 3.583436894477858*^9}, {
   3.5834369253901873`*^9, 3.583436988217811*^9}, {3.5834370194086246`*^9, 
   3.583437047518951*^9}, {3.583437082397332*^9, 3.583437082653151*^9}, {
   3.583437183127825*^9, 3.583437207396435*^9}, {3.5834373390972652`*^9, 
   3.583437350087676*^9}, {3.583437449237121*^9, 3.583437473727387*^9}, {
   3.583437537541911*^9, 3.583437566313034*^9}, {3.583437609231052*^9, 
   3.583437657563937*^9}, {3.583437693194694*^9, 3.583437774434849*^9}, {
   3.5834378363087063`*^9, 3.583437886941476*^9}, {3.583441784299611*^9, 
   3.583441808737364*^9}, {3.583441840352091*^9, 3.583441840711742*^9}, {
   3.5834418792049227`*^9, 3.583441992024467*^9}, {3.583442058557019*^9, 
   3.5834420829088287`*^9}, {3.583442123995248*^9, 3.5834421902915163`*^9}, {
   3.583442232514481*^9, 3.583442232698286*^9}, {3.583442373355009*^9, 
   3.583442410105406*^9}, {3.583442709019266*^9, 3.5834427824541187`*^9}, {
   3.583442814645714*^9, 3.583442884818281*^9}, {3.583442918976391*^9, 
   3.5834429262946253`*^9}, {3.58344296474233*^9, 3.583443172427453*^9}, {
   3.583443220835256*^9, 3.583443283405908*^9}, {3.5834442998718233`*^9, 
   3.583444410079978*^9}, {3.583445343340994*^9, 3.583445471470673*^9}, {
   3.583445514173266*^9, 3.583445555371125*^9}, {3.583445650174786*^9, 
   3.583445666662077*^9}, {3.583445698707181*^9, 3.583445737827853*^9}, {
   3.58344577779494*^9, 3.583445788193671*^9}, {3.583445874536685*^9, 
   3.583445970434134*^9}, {3.5834460043617697`*^9, 3.583446045934973*^9}, {
   3.583446498678194*^9, 3.583446627005569*^9}, {3.5834466663197412`*^9, 
   3.583446669028636*^9}, {3.5834467063272676`*^9, 3.583447006021099*^9}, {
   3.583447050312211*^9, 3.583447069774852*^9}, {3.5834471967715597`*^9, 
   3.5834472001855*^9}, {3.5834472361853123`*^9, 3.583447264423072*^9}, {
   3.583481665211721*^9, 3.583481666860874*^9}, {3.583481704852352*^9, 
   3.583481898909522*^9}, {3.583481933046606*^9, 3.583481935874333*^9}, {
   3.583481981719425*^9, 3.583482004995071*^9}, {3.583482063294682*^9, 
   3.583482095219472*^9}, {3.583482801733354*^9, 3.583482874317912*^9}, {
   3.583482914281472*^9, 3.583483058102542*^9}, {3.583483103227709*^9, 
   3.583483157412675*^9}, {3.583483241054783*^9, 3.583483255173402*^9}, {
   3.583483306614193*^9, 3.583483323549424*^9}, {3.583483361665567*^9, 
   3.583483362269519*^9}, {3.583483468184349*^9, 3.58348356129536*^9}, {
   3.583483605474492*^9, 3.583483607751169*^9}, 3.583483642015684*^9, {
   3.583485861352687*^9, 3.583485899023377*^9}, {3.583485965850499*^9, 
   3.583486202713798*^9}, {3.583486237741416*^9, 3.58348662154571*^9}, {
   3.583486742818276*^9, 3.583486748070507*^9}, {3.583486857516265*^9, 
   3.583486881565015*^9}, {3.5834869480304613`*^9, 3.583486988786202*^9}, {
   3.58348702330048*^9, 3.583487031178377*^9}, {3.583487189585259*^9, 
   3.583487257727291*^9}, 3.583487293648738*^9, {3.583487340034971*^9, 
   3.583487344021225*^9}, {3.5834903224304743`*^9, 3.583490334675354*^9}, {
   3.583490401355508*^9, 3.583490484996472*^9}, {3.583491361789535*^9, 
   3.583491370273617*^9}, {3.5834914046851797`*^9, 3.5834914067301607`*^9}, {
   3.583491466432026*^9, 3.5834915166400633`*^9}, {3.5834921408497353`*^9, 
   3.58349215237374*^9}, {3.5834922658716717`*^9, 3.5834923087347603`*^9}, {
   3.5834929054181433`*^9, 3.583492974078315*^9}, {3.583493006490206*^9, 
   3.583493076714017*^9}, {3.583493107330059*^9, 3.583493107599957*^9}, {
   3.58349317116475*^9, 3.583493171912616*^9}, {3.5834932878842278`*^9, 
   3.58349329656325*^9}, {3.583494185895813*^9, 3.583494194885748*^9}, {
   3.583494311777049*^9, 3.583494334079588*^9}, {3.583495829303864*^9, 
   3.5834958341985397`*^9}, {3.6019522985480633`*^9, 3.601952323233863*^9}, {
   3.602093919450734*^9, 3.602093947306123*^9}, {3.602093990196433*^9, 
   3.602093998009776*^9}, {3.602094032048499*^9, 3.602094071636139*^9}, {
   3.602094207190106*^9, 3.6020942786998463`*^9}, {3.602094342816188*^9, 
   3.602094364444476*^9}, {3.6020957611081047`*^9, 3.6020958653647947`*^9}, {
   3.602096084164804*^9, 3.602096107251039*^9}, {3.6020961887830143`*^9, 
   3.602096238078656*^9}, {3.60209631971146*^9, 3.6020963394075623`*^9}, {
   3.602096412657373*^9, 3.602096460278661*^9}, {3.60209658469685*^9, 
   3.602096590628339*^9}, {3.6021132700526123`*^9, 3.60211330148773*^9}, {
   3.6021141436736717`*^9, 3.602114182408503*^9}, {3.60211421329186*^9, 
   3.60211421465517*^9}, {3.602114261077776*^9, 3.602114274962586*^9}}],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.602096588032385*^9, 3.602096588053968*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"files", "=", " ", 
   RowBox[{"SortBy", "[", 
    RowBox[{
     RowBox[{"FileNames", "[", "\"\<*.JPG\>\"", "]"}], ",", 
     RowBox[{
      RowBox[{"ToExpression", "[", 
       RowBox[{
        RowBox[{"StringCases", "[", 
         RowBox[{"#", ",", 
          RowBox[{"RegularExpression", "[", "\"\<\\\\d+\>\"", "]"}]}], "]"}], 
        "[", 
        RowBox[{"[", "1", "]"}], "]"}], "]"}], "&"}]}], "]"}]}], 
  "\[IndentingNewLine]", "\[IndentingNewLine]"}]], "Input",
 CellChangeTimes->{{3.583436315438991*^9, 3.583436368120729*^9}, {
   3.5834364274413424`*^9, 3.5834364692434883`*^9}, {3.58343659158645*^9, 
   3.583436596411428*^9}, {3.583436661419263*^9, 3.583436694759347*^9}, {
   3.583436741141678*^9, 3.5834367613261957`*^9}, {3.58343683966567*^9, 
   3.583436849483515*^9}, {3.583436884538213*^9, 3.583436894477858*^9}, {
   3.5834369253901873`*^9, 3.583436988217811*^9}, {3.5834370194086246`*^9, 
   3.583437047518951*^9}, {3.583437082397332*^9, 3.583437082653151*^9}, {
   3.583437183127825*^9, 3.583437207396435*^9}, {3.5834373390972652`*^9, 
   3.583437350087676*^9}, {3.583437449237121*^9, 3.583437473727387*^9}, {
   3.583437537541911*^9, 3.583437566313034*^9}, {3.583437609231052*^9, 
   3.583437657563937*^9}, {3.583437693194694*^9, 3.583437774434849*^9}, {
   3.5834378363087063`*^9, 3.583437886941476*^9}, {3.583441784299611*^9, 
   3.583441808737364*^9}, {3.583441840352091*^9, 3.583441840711742*^9}, {
   3.5834418792049227`*^9, 3.583441992024467*^9}, {3.583442058557019*^9, 
   3.5834420829088287`*^9}, {3.583442123995248*^9, 3.5834421902915163`*^9}, {
   3.583442232514481*^9, 3.583442232698286*^9}, {3.583442373355009*^9, 
   3.583442410105406*^9}, {3.583442709019266*^9, 3.5834427824541187`*^9}, {
   3.583442814645714*^9, 3.583442884818281*^9}, {3.583442918976391*^9, 
   3.5834429262946253`*^9}, {3.58344296474233*^9, 3.583443172427453*^9}, {
   3.583443220835256*^9, 3.583443283405908*^9}, {3.5834442998718233`*^9, 
   3.583444410079978*^9}, {3.583445343340994*^9, 3.583445471470673*^9}, {
   3.583445514173266*^9, 3.583445555371125*^9}, {3.583445650174786*^9, 
   3.583445666662077*^9}, {3.583445698707181*^9, 3.583445737827853*^9}, {
   3.58344577779494*^9, 3.583445788193671*^9}, {3.583445874536685*^9, 
   3.583445970434134*^9}, {3.5834460043617697`*^9, 3.583446045934973*^9}, {
   3.583446498678194*^9, 3.583446627005569*^9}, {3.5834466663197412`*^9, 
   3.583446669028636*^9}, {3.5834467063272676`*^9, 3.583447006021099*^9}, {
   3.583447050312211*^9, 3.583447069774852*^9}, {3.5834471967715597`*^9, 
   3.5834472001855*^9}, {3.5834472361853123`*^9, 3.583447264423072*^9}, {
   3.583481665211721*^9, 3.583481666860874*^9}, {3.583481704852352*^9, 
   3.583481898909522*^9}, {3.583481933046606*^9, 3.583481935874333*^9}, {
   3.583481981719425*^9, 3.583482004995071*^9}, {3.583482063294682*^9, 
   3.583482095219472*^9}, {3.583482801733354*^9, 3.583482874317912*^9}, {
   3.583482914281472*^9, 3.583483058102542*^9}, {3.583483103227709*^9, 
   3.583483157412675*^9}, {3.583483241054783*^9, 3.583483255173402*^9}, {
   3.583483306614193*^9, 3.583483323549424*^9}, {3.583483361665567*^9, 
   3.583483362269519*^9}, {3.583483468184349*^9, 3.58348356129536*^9}, {
   3.583483605474492*^9, 3.583483607751169*^9}, 3.583483642015684*^9, {
   3.583485861352687*^9, 3.583485899023377*^9}, {3.583485965850499*^9, 
   3.583486202713798*^9}, {3.583486237741416*^9, 3.58348662154571*^9}, {
   3.583486742818276*^9, 3.583486748070507*^9}, {3.583486857516265*^9, 
   3.583486881565015*^9}, {3.5834869480304613`*^9, 3.583486988786202*^9}, {
   3.58348702330048*^9, 3.583487031178377*^9}, {3.583487189585259*^9, 
   3.583487257727291*^9}, 3.583487293648738*^9, {3.583487340034971*^9, 
   3.583487344021225*^9}, {3.5834903224304743`*^9, 3.583490334675354*^9}, {
   3.583490401355508*^9, 3.583490484996472*^9}, {3.583491361789535*^9, 
   3.583491370273617*^9}, {3.5834914046851797`*^9, 3.5834914067301607`*^9}, {
   3.583491466432026*^9, 3.5834915166400633`*^9}, {3.5834921408497353`*^9, 
   3.58349215237374*^9}, {3.5834922658716717`*^9, 3.5834923087347603`*^9}, {
   3.5834929054181433`*^9, 3.583492974078315*^9}, {3.583493006490206*^9, 
   3.583493076714017*^9}, {3.583493107330059*^9, 3.583493107599957*^9}, {
   3.58349317116475*^9, 3.583493171912616*^9}, {3.5834932878842278`*^9, 
   3.58349329656325*^9}, {3.583494185895813*^9, 3.583494194885748*^9}, {
   3.583494311777049*^9, 3.583494334079588*^9}, {3.583495829303864*^9, 
   3.5834958341985397`*^9}, {3.6019522985480633`*^9, 3.601952323233863*^9}, {
   3.602093919450734*^9, 3.602093947306123*^9}, {3.602093990196433*^9, 
   3.602093998009776*^9}, {3.602094032048499*^9, 3.602094071636139*^9}, {
   3.602094207190106*^9, 3.6020942786998463`*^9}, {3.602094342816188*^9, 
   3.602094364444476*^9}, {3.6020957611081047`*^9, 3.6020958653647947`*^9}, {
   3.602096084164804*^9, 3.602096107251039*^9}, {3.6020961887830143`*^9, 
   3.602096238078656*^9}, {3.60209631971146*^9, 3.6020963394075623`*^9}, {
   3.602096412657373*^9, 3.602096444672802*^9}, {3.602096480984172*^9, 
   3.602096501976589*^9}, {3.60209660824548*^9, 3.602096613531395*^9}, {
   3.602114225879747*^9, 3.602114234638261*^9}}],

Cell[BoxData[{
 RowBox[{"images", " ", "=", " ", 
  RowBox[{"Drop", "[", 
   RowBox[{
    RowBox[{"Map", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"getfileColor", "[", "#", "]"}], "&"}], ",", 
      RowBox[{"files", "//", 
       RowBox[{
        RowBox[{"Take", "[", 
         RowBox[{"#", ",", "2"}], "]"}], "&"}]}]}], "]"}], " ", ",", "1"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"images", "[", 
  RowBox[{"[", "1", "]"}], "]"}], "\[IndentingNewLine]"}], "Input",
 CellChangeTimes->{{3.583436315438991*^9, 3.583436368120729*^9}, {
   3.5834364274413424`*^9, 3.5834364692434883`*^9}, {3.58343659158645*^9, 
   3.583436596411428*^9}, {3.583436661419263*^9, 3.583436694759347*^9}, {
   3.583436741141678*^9, 3.5834367613261957`*^9}, {3.58343683966567*^9, 
   3.583436849483515*^9}, {3.583436884538213*^9, 3.583436894477858*^9}, {
   3.5834369253901873`*^9, 3.583436988217811*^9}, {3.5834370194086246`*^9, 
   3.583437047518951*^9}, {3.583437082397332*^9, 3.583437082653151*^9}, {
   3.583437183127825*^9, 3.583437207396435*^9}, {3.5834373390972652`*^9, 
   3.583437350087676*^9}, {3.583437449237121*^9, 3.583437473727387*^9}, {
   3.583437537541911*^9, 3.583437566313034*^9}, {3.583437609231052*^9, 
   3.583437657563937*^9}, {3.583437693194694*^9, 3.583437774434849*^9}, {
   3.5834378363087063`*^9, 3.583437886941476*^9}, {3.583441784299611*^9, 
   3.583441808737364*^9}, {3.583441840352091*^9, 3.583441840711742*^9}, {
   3.5834418792049227`*^9, 3.583441992024467*^9}, {3.583442058557019*^9, 
   3.5834420829088287`*^9}, {3.583442123995248*^9, 3.5834421902915163`*^9}, {
   3.583442232514481*^9, 3.583442232698286*^9}, {3.583442373355009*^9, 
   3.583442410105406*^9}, {3.583442709019266*^9, 3.5834427824541187`*^9}, {
   3.583442814645714*^9, 3.583442884818281*^9}, {3.583442918976391*^9, 
   3.5834429262946253`*^9}, {3.58344296474233*^9, 3.583443172427453*^9}, {
   3.583443220835256*^9, 3.583443283405908*^9}, {3.5834442998718233`*^9, 
   3.583444410079978*^9}, {3.583445343340994*^9, 3.583445471470673*^9}, {
   3.583445514173266*^9, 3.583445555371125*^9}, {3.583445650174786*^9, 
   3.583445666662077*^9}, {3.583445698707181*^9, 3.583445737827853*^9}, {
   3.58344577779494*^9, 3.583445788193671*^9}, {3.583445874536685*^9, 
   3.583445970434134*^9}, {3.5834460043617697`*^9, 3.583446045934973*^9}, {
   3.583446498678194*^9, 3.583446627005569*^9}, {3.5834466663197412`*^9, 
   3.583446669028636*^9}, {3.5834467063272676`*^9, 3.583447006021099*^9}, {
   3.583447050312211*^9, 3.583447069774852*^9}, {3.5834471967715597`*^9, 
   3.5834472001855*^9}, {3.5834472361853123`*^9, 3.583447264423072*^9}, {
   3.583481665211721*^9, 3.583481666860874*^9}, {3.583481704852352*^9, 
   3.583481898909522*^9}, {3.583481933046606*^9, 3.583481935874333*^9}, {
   3.583481981719425*^9, 3.583482004995071*^9}, {3.583482063294682*^9, 
   3.583482095219472*^9}, {3.583482801733354*^9, 3.583482874317912*^9}, {
   3.583482914281472*^9, 3.583483058102542*^9}, {3.583483103227709*^9, 
   3.583483157412675*^9}, {3.583483241054783*^9, 3.583483255173402*^9}, {
   3.583483306614193*^9, 3.583483323549424*^9}, {3.583483361665567*^9, 
   3.583483362269519*^9}, {3.583483468184349*^9, 3.58348356129536*^9}, {
   3.583483605474492*^9, 3.583483607751169*^9}, 3.583483642015684*^9, {
   3.583485861352687*^9, 3.583485899023377*^9}, {3.583485965850499*^9, 
   3.583486202713798*^9}, {3.583486237741416*^9, 3.58348662154571*^9}, {
   3.583486742818276*^9, 3.583486748070507*^9}, {3.583486857516265*^9, 
   3.583486881565015*^9}, {3.5834869480304613`*^9, 3.583486988786202*^9}, {
   3.58348702330048*^9, 3.583487031178377*^9}, {3.583487189585259*^9, 
   3.583487257727291*^9}, 3.583487293648738*^9, {3.583487340034971*^9, 
   3.583487344021225*^9}, {3.5834903224304743`*^9, 3.583490334675354*^9}, {
   3.583490401355508*^9, 3.583490484996472*^9}, {3.583491361789535*^9, 
   3.583491370273617*^9}, {3.5834914046851797`*^9, 3.5834914067301607`*^9}, {
   3.583491466432026*^9, 3.5834915166400633`*^9}, {3.5834921408497353`*^9, 
   3.58349215237374*^9}, {3.5834922658716717`*^9, 3.5834923087347603`*^9}, {
   3.5834929054181433`*^9, 3.583492974078315*^9}, {3.583493006490206*^9, 
   3.583493076714017*^9}, {3.583493107330059*^9, 3.583493107599957*^9}, {
   3.58349317116475*^9, 3.583493171912616*^9}, {3.5834932878842278`*^9, 
   3.58349329656325*^9}, {3.583494185895813*^9, 3.583494194885748*^9}, {
   3.583494311777049*^9, 3.583494334079588*^9}, {3.583495829303864*^9, 
   3.5834958341985397`*^9}, {3.6019522985480633`*^9, 3.601952323233863*^9}, {
   3.602093919450734*^9, 3.602093947306123*^9}, {3.602093990196433*^9, 
   3.602093998009776*^9}, {3.602094032048499*^9, 3.602094071636139*^9}, {
   3.602094207190106*^9, 3.6020942786998463`*^9}, {3.602094342816188*^9, 
   3.602094364444476*^9}, {3.6020957611081047`*^9, 3.602095831491481*^9}, {
   3.60209662008319*^9, 3.602096621144905*^9}, {3.602097543251347*^9, 
   3.6020975726950493`*^9}, {3.602114286229087*^9, 3.602114286922776*^9}, {
   3.602114513391621*^9, 3.602114570427356*^9}, {3.602114638098515*^9, 
   3.60211473890835*^9}, {3.602115239079597*^9, 3.602115281633843*^9}, {
   3.602115327369994*^9, 3.6021153335629597`*^9}, {3.6021184120429688`*^9, 
   3.602118417678164*^9}, 3.602118449884268*^9}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"src", "=", 
   RowBox[{"ColorConvert", "[", 
    RowBox[{
     RowBox[{"images", "[", 
      RowBox[{"[", "1", "]"}], "]"}], ",", "\"\<Grayscale\>\""}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"src2", " ", "=", " ", 
    RowBox[{"Image", "[", 
     RowBox[{"MorphologicalComponents", "[", 
      RowBox[{"src", ",", ".5"}], "]"}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{"{", 
  RowBox[{"src", ",", "src2"}], "}"}], "\[IndentingNewLine]"}], "Input",
 CellChangeTimes->{{3.583436315438991*^9, 3.583436368120729*^9}, {
   3.5834364274413424`*^9, 3.5834364692434883`*^9}, {3.58343659158645*^9, 
   3.583436596411428*^9}, {3.583436661419263*^9, 3.583436694759347*^9}, {
   3.583436741141678*^9, 3.5834367613261957`*^9}, {3.58343683966567*^9, 
   3.583436849483515*^9}, {3.583436884538213*^9, 3.583436894477858*^9}, {
   3.5834369253901873`*^9, 3.583436988217811*^9}, {3.5834370194086246`*^9, 
   3.583437047518951*^9}, {3.583437082397332*^9, 3.583437082653151*^9}, {
   3.583437183127825*^9, 3.583437207396435*^9}, {3.5834373390972652`*^9, 
   3.583437350087676*^9}, {3.583437449237121*^9, 3.583437473727387*^9}, {
   3.583437537541911*^9, 3.583437566313034*^9}, {3.583437609231052*^9, 
   3.583437657563937*^9}, {3.583437693194694*^9, 3.583437774434849*^9}, {
   3.5834378363087063`*^9, 3.583437886941476*^9}, {3.583441784299611*^9, 
   3.583441808737364*^9}, {3.583441840352091*^9, 3.583441840711742*^9}, {
   3.5834418792049227`*^9, 3.583441992024467*^9}, {3.583442058557019*^9, 
   3.5834420829088287`*^9}, {3.583442123995248*^9, 3.5834421902915163`*^9}, {
   3.583442232514481*^9, 3.583442232698286*^9}, {3.583442373355009*^9, 
   3.583442410105406*^9}, {3.583442709019266*^9, 3.5834427824541187`*^9}, {
   3.583442814645714*^9, 3.583442884818281*^9}, {3.583442918976391*^9, 
   3.5834429262946253`*^9}, {3.58344296474233*^9, 3.583443172427453*^9}, {
   3.583443220835256*^9, 3.583443283405908*^9}, {3.5834442998718233`*^9, 
   3.583444410079978*^9}, {3.583445343340994*^9, 3.583445471470673*^9}, {
   3.583445514173266*^9, 3.583445555371125*^9}, {3.583445650174786*^9, 
   3.583445666662077*^9}, {3.583445698707181*^9, 3.583445737827853*^9}, {
   3.58344577779494*^9, 3.583445788193671*^9}, {3.583445874536685*^9, 
   3.583445970434134*^9}, {3.5834460043617697`*^9, 3.583446045934973*^9}, {
   3.583446498678194*^9, 3.583446627005569*^9}, {3.5834466663197412`*^9, 
   3.583446669028636*^9}, {3.5834467063272676`*^9, 3.583447006021099*^9}, {
   3.583447050312211*^9, 3.583447069774852*^9}, {3.5834471967715597`*^9, 
   3.5834472001855*^9}, {3.5834472361853123`*^9, 3.583447264423072*^9}, {
   3.583481665211721*^9, 3.583481666860874*^9}, {3.583481704852352*^9, 
   3.583481898909522*^9}, {3.583481933046606*^9, 3.583481935874333*^9}, {
   3.583481981719425*^9, 3.583482004995071*^9}, {3.583482063294682*^9, 
   3.583482095219472*^9}, {3.583482801733354*^9, 3.583482874317912*^9}, {
   3.583482914281472*^9, 3.583483058102542*^9}, {3.583483103227709*^9, 
   3.583483157412675*^9}, {3.583483241054783*^9, 3.583483255173402*^9}, {
   3.583483306614193*^9, 3.583483323549424*^9}, {3.583483361665567*^9, 
   3.583483362269519*^9}, {3.583483468184349*^9, 3.58348356129536*^9}, {
   3.583483605474492*^9, 3.583483607751169*^9}, 3.583483642015684*^9, {
   3.583485861352687*^9, 3.583485899023377*^9}, {3.583485965850499*^9, 
   3.583486202713798*^9}, {3.583486237741416*^9, 3.58348662154571*^9}, {
   3.583486742818276*^9, 3.583486748070507*^9}, {3.583486857516265*^9, 
   3.583486881565015*^9}, {3.5834869480304613`*^9, 3.583486988786202*^9}, {
   3.58348702330048*^9, 3.583487031178377*^9}, {3.583487189585259*^9, 
   3.583487257727291*^9}, 3.583487293648738*^9, {3.583487340034971*^9, 
   3.583487344021225*^9}, {3.5834903224304743`*^9, 3.583490334675354*^9}, {
   3.583490401355508*^9, 3.583490484996472*^9}, {3.583491361789535*^9, 
   3.583491370273617*^9}, {3.5834914046851797`*^9, 3.5834914067301607`*^9}, {
   3.583491466432026*^9, 3.5834915166400633`*^9}, {3.5834921408497353`*^9, 
   3.58349215237374*^9}, {3.5834922658716717`*^9, 3.5834923087347603`*^9}, {
   3.5834929054181433`*^9, 3.583492974078315*^9}, {3.583493006490206*^9, 
   3.583493076714017*^9}, {3.583493107330059*^9, 3.583493107599957*^9}, {
   3.58349317116475*^9, 3.583493171912616*^9}, {3.5834932878842278`*^9, 
   3.58349329656325*^9}, {3.583494185895813*^9, 3.583494194885748*^9}, {
   3.583494311777049*^9, 3.583494334079588*^9}, {3.583495829303864*^9, 
   3.5834958341985397`*^9}, {3.6019522985480633`*^9, 3.601952323233863*^9}, {
   3.602093919450734*^9, 3.602093947306123*^9}, {3.602093990196433*^9, 
   3.602093998009776*^9}, {3.602094032048499*^9, 3.602094071636139*^9}, {
   3.602094207190106*^9, 3.6020942786998463`*^9}, {3.602094342816188*^9, 
   3.602094364444476*^9}, {3.6020957611081047`*^9, 3.602095831491481*^9}, {
   3.60209662008319*^9, 3.602096621144905*^9}, {3.602097543251347*^9, 
   3.6020975726950493`*^9}, {3.602114286229087*^9, 3.602114286922776*^9}, {
   3.602114513391621*^9, 3.602114570427356*^9}, {3.602114638098515*^9, 
   3.60211473890835*^9}, {3.602115239079597*^9, 3.602115292289629*^9}, {
   3.6021153459055853`*^9, 3.602115350959073*^9}, {3.6021183890675697`*^9, 
   3.6021184088869457`*^9}, {3.60211845411967*^9, 3.6021184568698997`*^9}, {
   3.602118690636656*^9, 3.6021187135531178`*^9}, {3.60211875436934*^9, 
   3.602118754823123*^9}, {3.6021188928348837`*^9, 3.60211896233167*^9}, 
   3.602118999204451*^9}],

Cell[BoxData[
 RowBox[{"\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"white", "=", 
     RowBox[{"Closing", "[", 
      RowBox[{"src", ",", 
       RowBox[{"DiskMatrix", "[", "5", "]"}]}], "]"}]}], ";"}], "\n", 
   RowBox[{"srcAdjusted", "=", 
    RowBox[{"Image", "[", 
     RowBox[{
      RowBox[{"ImageData", "[", "src", "]"}], "/", 
      RowBox[{"ImageData", "[", "white", "]"}]}], "]"}]}]}]}]], "Input",
 CellChangeTimes->{{3.583436315438991*^9, 3.583436368120729*^9}, {
   3.5834364274413424`*^9, 3.5834364692434883`*^9}, {3.58343659158645*^9, 
   3.583436596411428*^9}, {3.583436661419263*^9, 3.583436694759347*^9}, {
   3.583436741141678*^9, 3.5834367613261957`*^9}, {3.58343683966567*^9, 
   3.583436849483515*^9}, {3.583436884538213*^9, 3.583436894477858*^9}, {
   3.5834369253901873`*^9, 3.583436988217811*^9}, {3.5834370194086246`*^9, 
   3.583437047518951*^9}, {3.583437082397332*^9, 3.583437082653151*^9}, {
   3.583437183127825*^9, 3.583437207396435*^9}, {3.5834373390972652`*^9, 
   3.583437350087676*^9}, {3.583437449237121*^9, 3.583437473727387*^9}, {
   3.583437537541911*^9, 3.583437566313034*^9}, {3.583437609231052*^9, 
   3.583437657563937*^9}, {3.583437693194694*^9, 3.583437774434849*^9}, {
   3.5834378363087063`*^9, 3.583437886941476*^9}, {3.583441784299611*^9, 
   3.583441808737364*^9}, {3.583441840352091*^9, 3.583441840711742*^9}, {
   3.5834418792049227`*^9, 3.583441992024467*^9}, {3.583442058557019*^9, 
   3.5834420829088287`*^9}, {3.583442123995248*^9, 3.5834421902915163`*^9}, {
   3.583442232514481*^9, 3.583442232698286*^9}, {3.583442373355009*^9, 
   3.583442410105406*^9}, {3.583442709019266*^9, 3.5834427824541187`*^9}, {
   3.583442814645714*^9, 3.583442884818281*^9}, {3.583442918976391*^9, 
   3.5834429262946253`*^9}, {3.58344296474233*^9, 3.583443172427453*^9}, {
   3.583443220835256*^9, 3.583443283405908*^9}, {3.5834442998718233`*^9, 
   3.583444410079978*^9}, {3.583445343340994*^9, 3.583445471470673*^9}, {
   3.583445514173266*^9, 3.583445555371125*^9}, {3.583445650174786*^9, 
   3.583445666662077*^9}, {3.583445698707181*^9, 3.583445737827853*^9}, {
   3.58344577779494*^9, 3.583445788193671*^9}, {3.583445874536685*^9, 
   3.583445970434134*^9}, {3.5834460043617697`*^9, 3.583446045934973*^9}, {
   3.583446498678194*^9, 3.583446627005569*^9}, {3.5834466663197412`*^9, 
   3.583446669028636*^9}, {3.5834467063272676`*^9, 3.583447006021099*^9}, {
   3.583447050312211*^9, 3.583447069774852*^9}, {3.5834471967715597`*^9, 
   3.5834472001855*^9}, {3.5834472361853123`*^9, 3.583447264423072*^9}, {
   3.583481665211721*^9, 3.583481666860874*^9}, {3.583481704852352*^9, 
   3.583481898909522*^9}, {3.583481933046606*^9, 3.583481935874333*^9}, {
   3.583481981719425*^9, 3.583482004995071*^9}, {3.583482063294682*^9, 
   3.583482095219472*^9}, {3.583482801733354*^9, 3.583482874317912*^9}, {
   3.583482914281472*^9, 3.583483058102542*^9}, {3.583483103227709*^9, 
   3.583483157412675*^9}, {3.583483241054783*^9, 3.583483255173402*^9}, {
   3.583483306614193*^9, 3.583483323549424*^9}, {3.583483361665567*^9, 
   3.583483362269519*^9}, {3.583483468184349*^9, 3.58348356129536*^9}, {
   3.583483605474492*^9, 3.583483607751169*^9}, 3.583483642015684*^9, {
   3.583485861352687*^9, 3.583485899023377*^9}, {3.583485965850499*^9, 
   3.583486202713798*^9}, {3.583486237741416*^9, 3.58348662154571*^9}, {
   3.583486742818276*^9, 3.583486748070507*^9}, {3.583486857516265*^9, 
   3.583486881565015*^9}, {3.5834869480304613`*^9, 3.583486988786202*^9}, {
   3.58348702330048*^9, 3.583487031178377*^9}, {3.583487189585259*^9, 
   3.583487257727291*^9}, 3.583487293648738*^9, {3.583487340034971*^9, 
   3.583487344021225*^9}, {3.5834903224304743`*^9, 3.583490334675354*^9}, {
   3.583490401355508*^9, 3.583490484996472*^9}, {3.583491361789535*^9, 
   3.583491370273617*^9}, {3.5834914046851797`*^9, 3.5834914067301607`*^9}, {
   3.583491466432026*^9, 3.5834915166400633`*^9}, {3.5834921408497353`*^9, 
   3.58349215237374*^9}, {3.5834922658716717`*^9, 3.5834923087347603`*^9}, {
   3.5834929054181433`*^9, 3.583492974078315*^9}, {3.583493006490206*^9, 
   3.583493076714017*^9}, {3.583493107330059*^9, 3.583493107599957*^9}, {
   3.58349317116475*^9, 3.583493171912616*^9}, {3.5834932878842278`*^9, 
   3.58349329656325*^9}, {3.583494185895813*^9, 3.583494194885748*^9}, {
   3.583494311777049*^9, 3.583494334079588*^9}, {3.583495829303864*^9, 
   3.5834958341985397`*^9}, {3.6019522985480633`*^9, 3.601952323233863*^9}, {
   3.602093919450734*^9, 3.602093947306123*^9}, {3.602093990196433*^9, 
   3.602093998009776*^9}, {3.602094032048499*^9, 3.602094071636139*^9}, {
   3.602094207190106*^9, 3.6020942786998463`*^9}, {3.602094342816188*^9, 
   3.602094364444476*^9}, {3.6020957611081047`*^9, 3.602095831491481*^9}, {
   3.60209662008319*^9, 3.602096621144905*^9}, {3.602097543251347*^9, 
   3.6020975726950493`*^9}, {3.602114286229087*^9, 3.602114286922776*^9}, {
   3.602114513391621*^9, 3.602114570427356*^9}, {3.602114638098515*^9, 
   3.60211473890835*^9}, {3.602115239079597*^9, 3.602115292289629*^9}, 
   3.6021156735264807`*^9, 3.602116647029481*^9, 3.6021166887069902`*^9, 
   3.602118742639759*^9}],

Cell[BoxData[
 RowBox[{"\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"components", "=", 
     RowBox[{
      RowBox[{"ComponentMeasurements", "[", 
       RowBox[{
        RowBox[{"ColorNegate", "@", 
         RowBox[{"Binarize", "[", "srcAdjusted", "]"}]}], ",", 
        RowBox[{"{", 
         RowBox[{"\"\<ConvexArea\>\"", ",", "\"\<Mask\>\""}], "}"}]}], "]"}], 
      "[", 
      RowBox[{"[", 
       RowBox[{"All", ",", "2"}], "]"}], "]"}]}], ";"}], "\n", 
   RowBox[{"largestComponent", "=", 
    RowBox[{"Image", "[", 
     RowBox[{
      RowBox[{"SortBy", "[", 
       RowBox[{"components", ",", "First"}], "]"}], "[", 
      RowBox[{"[", 
       RowBox[{
        RowBox[{"-", "1"}], ",", "2"}], "]"}], "]"}], "]"}]}]}]}]], "Input",
 CellChangeTimes->{{3.602115577202739*^9, 3.602115605110841*^9}, {
   3.602115666505026*^9, 3.6021156703133793`*^9}, 3.602115706905755*^9, {
   3.6021157539798527`*^9, 3.60211575476764*^9}, {3.602115820753769*^9, 
   3.6021158270365334`*^9}, {3.602116680230276*^9, 3.602116749044924*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"lines", "=", 
   RowBox[{"ImageLines", "[", 
    RowBox[{"EdgeDetect", "[", "largestComponent", "]"}], "]"}]}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"lines1", "=", 
     RowBox[{
      RowBox[{
       RowBox[{"ImageLines", "[", 
        RowBox[{
         RowBox[{"EdgeDetect", "[", "#", "]"}], ",", ".15", ",", ".1"}], 
        "]"}], "&"}], "/@", "dc1"}]}], ";", 
    RowBox[{
     RowBox[{
      RowBox[{"Show", "[", 
       RowBox[{
        RowBox[{"#", "[", 
         RowBox[{"[", "1", "]"}], "]"}], ",", 
        RowBox[{"Graphics", "[", 
         RowBox[{"{", 
          RowBox[{"Thick", ",", "Red", ",", 
           RowBox[{"Line", "/@", 
            RowBox[{"#", "[", 
             RowBox[{"[", "2", "]"}], "]"}]}]}], "}"}], "]"}], ",", 
        RowBox[{"ImageSize", "\[Rule]", "100"}]}], "]"}], "&"}], "/@", 
     RowBox[{"Transpose", "[", 
      RowBox[{"{", 
       RowBox[{"i", ",", "lines1"}], "}"}], "]"}]}]}], "*)"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{"Show", "[", 
  RowBox[{"src", ",", 
   RowBox[{"Graphics", "[", 
    RowBox[{"{", 
     RowBox[{"Thick", ",", "Red", ",", 
      RowBox[{"Line", " ", "/@", " ", "lines"}]}], "}"}], "]"}]}], "]"}]}], \
"Input",
 CellChangeTimes->{{3.602115577202739*^9, 3.602115605110841*^9}, {
   3.602115666505026*^9, 3.6021156703133793`*^9}, 3.602115706905755*^9, {
   3.6021157539798527`*^9, 3.60211575476764*^9}, {3.602115820753769*^9, 
   3.6021158270365334`*^9}, {3.602116680230276*^9, 3.602116749044924*^9}, {
   3.60211681707588*^9, 3.602116921069297*^9}, {3.602117840599428*^9, 
   3.602117875614944*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mask", "=", 
    RowBox[{"FillingTransform", "[", "largestComponent", "]"}]}], ";"}], 
  "\[IndentingNewLine]"}]], "Input",
 CellChangeTimes->{{3.602115577202739*^9, 3.602115605110841*^9}, {
   3.602115666505026*^9, 3.6021156703133793`*^9}, 3.602115706905755*^9, {
   3.6021157539798527`*^9, 3.60211575476764*^9}, {3.602115820753769*^9, 
   3.6021158270365334`*^9}, {3.602116680230276*^9, 3.602116712159446*^9}}],

Cell[BoxData[{
 RowBox[{"lY", "=", 
  RowBox[{"ImageMultiply", "[", 
   RowBox[{
    RowBox[{"MorphologicalBinarize", "[", 
     RowBox[{
      RowBox[{"GaussianFilter", "[", 
       RowBox[{"srcAdjusted", ",", "3", ",", 
        RowBox[{"{", 
         RowBox[{"2", ",", "0"}], "}"}]}], "]"}], ",", 
      RowBox[{"{", 
       RowBox[{"0.02", ",", "0.05"}], "}"}]}], "]"}], ",", "mask"}], 
   "]"}]}], "\n", 
 RowBox[{"lX", "=", 
  RowBox[{"ImageMultiply", "[", 
   RowBox[{
    RowBox[{"MorphologicalBinarize", "[", 
     RowBox[{
      RowBox[{"GaussianFilter", "[", 
       RowBox[{"srcAdjusted", ",", "3", ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", "2"}], "}"}]}], "]"}], ",", 
      RowBox[{"{", 
       RowBox[{"0.02", ",", "0.05"}], "}"}]}], "]"}], ",", "mask"}], "]"}]}]}],\
 "Input",
 CellChangeTimes->{{3.602115577202739*^9, 3.602115605110841*^9}, {
   3.602115666505026*^9, 3.6021156703133793`*^9}, 3.602115706905755*^9, {
   3.6021157539798527`*^9, 3.60211575476764*^9}, {3.602115820753769*^9, 
   3.6021158270365334`*^9}, {3.60211590638072*^9, 3.602115910363652*^9}}],

Cell[BoxData[
 RowBox[{"\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"verticalGridLineMasks", "=", 
     RowBox[{
      RowBox[{"SortBy", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"ComponentMeasurements", "[", 
          RowBox[{"lX", ",", 
           RowBox[{"{", 
            RowBox[{
            "\"\<CaliperLength\>\"", ",", "\"\<Centroid\>\"", ",", 
             "\"\<Mask\>\""}], "}"}], ",", 
           RowBox[{
            RowBox[{"#", ">", "100"}], "&"}]}], "]"}], "[", 
         RowBox[{"[", 
          RowBox[{"All", ",", "2"}], "]"}], "]"}], ",", 
        RowBox[{
         RowBox[{"#", "[", 
          RowBox[{"[", 
           RowBox[{"2", ",", "1"}], "]"}], "]"}], "&"}]}], "]"}], "[", 
      RowBox[{"[", 
       RowBox[{"All", ",", "3"}], "]"}], "]"}]}], ";"}], "\n", 
   RowBox[{"horizontalGridLineMasks", "=", 
    RowBox[{
     RowBox[{"SortBy", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"ComponentMeasurements", "[", 
         RowBox[{"lY", ",", 
          RowBox[{"{", 
           RowBox[{
           "\"\<CaliperLength\>\"", ",", "\"\<Centroid\>\"", ",", 
            "\"\<Mask\>\""}], "}"}], ",", 
          RowBox[{
           RowBox[{"#", ">", "100"}], "&"}]}], "]"}], "[", 
        RowBox[{"[", 
         RowBox[{"All", ",", "2"}], "]"}], "]"}], ",", 
       RowBox[{
        RowBox[{"#", "[", 
         RowBox[{"[", 
          RowBox[{"2", ",", "2"}], "]"}], "]"}], "&"}]}], "]"}], "[", 
     RowBox[{"[", 
      RowBox[{"All", ",", "3"}], "]"}], "]"}]}]}]}]], "Input",
 CellChangeTimes->{{3.602115577202739*^9, 3.602115605110841*^9}, {
   3.602115666505026*^9, 3.6021156703133793`*^9}, 3.602115706905755*^9, {
   3.6021157539798527`*^9, 3.60211575476764*^9}, {3.602115820753769*^9, 
   3.6021158270365334`*^9}, {3.60211590638072*^9, 3.602115955657769*^9}, 
   3.60211606565816*^9}],

Cell[BoxData[
 RowBox[{"\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"centerOfGravity", "[", "l_", "]"}], ":=", 
   RowBox[{
    RowBox[{"ComponentMeasurements", "[", 
     RowBox[{
      RowBox[{"Image", "[", "l", "]"}], ",", "\"\<Centroid\>\""}], "]"}], "[", 
    RowBox[{"[", 
     RowBox[{"1", ",", "2"}], "]"}], "]"}]}]}]], "Input",
 CellChangeTimes->{{3.602115577202739*^9, 3.602115605110841*^9}, {
   3.602115666505026*^9, 3.6021156703133793`*^9}, 3.602115706905755*^9, {
   3.6021157539798527`*^9, 3.60211575476764*^9}, {3.602115820753769*^9, 
   3.6021158270365334`*^9}, {3.60211590638072*^9, 3.602115955657769*^9}, {
   3.6021159921993017`*^9, 3.602115993067445*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"gridCenters", "=", 
    RowBox[{"Table", "[", 
     RowBox[{
      RowBox[{"centerOfGravity", "[", 
       RowBox[{
        RowBox[{"ImageData", "[", 
         RowBox[{"Dilation", "[", 
          RowBox[{
           RowBox[{"Image", "[", "h", "]"}], ",", 
           RowBox[{"DiskMatrix", "[", "2", "]"}]}], "]"}], "]"}], "*", 
        RowBox[{"ImageData", "[", 
         RowBox[{"Dilation", "[", 
          RowBox[{
           RowBox[{"Image", "[", "v", "]"}], ",", 
           RowBox[{"DiskMatrix", "[", "2", "]"}]}], "]"}], "]"}]}], "]"}], 
      ",", 
      RowBox[{"{", 
       RowBox[{"h", ",", "horizontalGridLineMasks"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"v", ",", "verticalGridLineMasks"}], "}"}]}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}]], "Input",
 CellChangeTimes->{{3.602115577202739*^9, 3.602115605110841*^9}, {
   3.602115666505026*^9, 3.6021156703133793`*^9}, 3.602115706905755*^9, {
   3.6021157539798527`*^9, 3.60211575476764*^9}, {3.602115820753769*^9, 
   3.6021158270365334`*^9}, {3.60211590638072*^9, 3.602115955657769*^9}, {
   3.6021159921993017`*^9, 3.602115993067445*^9}}],

Cell[BoxData[
 RowBox[{"\[IndentingNewLine]", 
  RowBox[{"i1", "=", 
   RowBox[{"Map", "[", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"ColorSeparate", "[", 
        RowBox[{"#", ",", "\"\<HSB\>\""}], "]"}], "[", 
       RowBox[{"[", "2", "]"}], "]"}], "&"}], ",", " ", "images"}], 
    "]"}]}]}]], "Input",
 CellChangeTimes->{{3.583436315438991*^9, 3.583436368120729*^9}, {
   3.5834364274413424`*^9, 3.5834364692434883`*^9}, {3.58343659158645*^9, 
   3.583436596411428*^9}, {3.583436661419263*^9, 3.583436694759347*^9}, {
   3.583436741141678*^9, 3.5834367613261957`*^9}, {3.58343683966567*^9, 
   3.583436849483515*^9}, {3.583436884538213*^9, 3.583436894477858*^9}, {
   3.5834369253901873`*^9, 3.583436988217811*^9}, {3.5834370194086246`*^9, 
   3.583437047518951*^9}, {3.583437082397332*^9, 3.583437082653151*^9}, {
   3.583437183127825*^9, 3.583437207396435*^9}, {3.5834373390972652`*^9, 
   3.583437350087676*^9}, {3.583437449237121*^9, 3.583437473727387*^9}, {
   3.583437537541911*^9, 3.583437566313034*^9}, {3.583437609231052*^9, 
   3.583437657563937*^9}, {3.583437693194694*^9, 3.583437774434849*^9}, {
   3.5834378363087063`*^9, 3.583437886941476*^9}, {3.583441784299611*^9, 
   3.583441808737364*^9}, {3.583441840352091*^9, 3.583441840711742*^9}, {
   3.5834418792049227`*^9, 3.583441992024467*^9}, {3.583442058557019*^9, 
   3.5834420829088287`*^9}, {3.583442123995248*^9, 3.5834421902915163`*^9}, {
   3.583442232514481*^9, 3.583442232698286*^9}, {3.583442373355009*^9, 
   3.583442410105406*^9}, {3.583442709019266*^9, 3.5834427824541187`*^9}, {
   3.583442814645714*^9, 3.583442884818281*^9}, {3.583442918976391*^9, 
   3.5834429262946253`*^9}, {3.58344296474233*^9, 3.583443172427453*^9}, {
   3.583443220835256*^9, 3.583443283405908*^9}, {3.5834442998718233`*^9, 
   3.583444410079978*^9}, {3.583445343340994*^9, 3.583445471470673*^9}, {
   3.583445514173266*^9, 3.583445555371125*^9}, {3.583445650174786*^9, 
   3.583445666662077*^9}, {3.583445698707181*^9, 3.583445737827853*^9}, {
   3.58344577779494*^9, 3.583445788193671*^9}, {3.583445874536685*^9, 
   3.583445970434134*^9}, {3.5834460043617697`*^9, 3.583446045934973*^9}, {
   3.583446498678194*^9, 3.583446627005569*^9}, {3.5834466663197412`*^9, 
   3.583446669028636*^9}, {3.5834467063272676`*^9, 3.583447006021099*^9}, {
   3.583447050312211*^9, 3.583447069774852*^9}, {3.5834471967715597`*^9, 
   3.5834472001855*^9}, {3.5834472361853123`*^9, 3.583447264423072*^9}, {
   3.583481665211721*^9, 3.583481666860874*^9}, {3.583481704852352*^9, 
   3.583481898909522*^9}, {3.583481933046606*^9, 3.583481935874333*^9}, {
   3.583481981719425*^9, 3.583482004995071*^9}, {3.583482063294682*^9, 
   3.583482095219472*^9}, {3.583482801733354*^9, 3.583482874317912*^9}, {
   3.583482914281472*^9, 3.583483058102542*^9}, {3.583483103227709*^9, 
   3.583483157412675*^9}, {3.583483241054783*^9, 3.583483255173402*^9}, {
   3.583483306614193*^9, 3.583483323549424*^9}, {3.583483361665567*^9, 
   3.583483362269519*^9}, {3.583483468184349*^9, 3.58348356129536*^9}, {
   3.583483605474492*^9, 3.583483607751169*^9}, 3.583483642015684*^9, {
   3.583485861352687*^9, 3.583485899023377*^9}, {3.583485965850499*^9, 
   3.583486202713798*^9}, {3.583486237741416*^9, 3.58348662154571*^9}, {
   3.583486742818276*^9, 3.583486748070507*^9}, {3.583486857516265*^9, 
   3.583486881565015*^9}, {3.5834869480304613`*^9, 3.583486988786202*^9}, {
   3.58348702330048*^9, 3.583487031178377*^9}, {3.583487189585259*^9, 
   3.583487257727291*^9}, 3.583487293648738*^9, {3.583487340034971*^9, 
   3.583487344021225*^9}, {3.5834903224304743`*^9, 3.583490334675354*^9}, {
   3.583490401355508*^9, 3.583490484996472*^9}, {3.583491361789535*^9, 
   3.583491370273617*^9}, {3.5834914046851797`*^9, 3.5834914067301607`*^9}, {
   3.583491466432026*^9, 3.5834915166400633`*^9}, {3.5834921408497353`*^9, 
   3.58349215237374*^9}, {3.5834922658716717`*^9, 3.5834923087347603`*^9}, {
   3.5834929054181433`*^9, 3.583492974078315*^9}, {3.583493006490206*^9, 
   3.583493076714017*^9}, {3.583493107330059*^9, 3.583493107599957*^9}, {
   3.58349317116475*^9, 3.583493171912616*^9}, {3.5834932878842278`*^9, 
   3.58349329656325*^9}, {3.583494185895813*^9, 3.583494194885748*^9}, {
   3.583494311777049*^9, 3.583494334079588*^9}, {3.583495829303864*^9, 
   3.5834958341985397`*^9}, {3.6019522985480633`*^9, 3.601952323233863*^9}, {
   3.602093919450734*^9, 3.602093947306123*^9}, {3.602093990196433*^9, 
   3.602093998009776*^9}, {3.602094032048499*^9, 3.602094071636139*^9}, {
   3.602094207190106*^9, 3.6020942786998463`*^9}, {3.602094342816188*^9, 
   3.602094364444476*^9}, {3.6020957611081047`*^9, 3.602095831491481*^9}, {
   3.60209662008319*^9, 3.602096621144905*^9}, {3.602097543251347*^9, 
   3.6020975726950493`*^9}, {3.602114286229087*^9, 3.602114286922776*^9}, {
   3.602114513391621*^9, 3.60211459334039*^9}, 3.6021147281397963`*^9}],

Cell[BoxData[
 RowBox[{"ie1", "=", 
  RowBox[{"EdgeDetect", "/@", 
   RowBox[{"ImageAdjust", "/@", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{
       RowBox[{"LaplacianGaussianFilter", "[", 
        RowBox[{"#", ",", "2"}], "]"}], "&"}], "/@", "i1"}], 
     ")"}]}]}]}]], "Input",
 CellChangeTimes->{{3.583436315438991*^9, 3.583436368120729*^9}, {
   3.5834364274413424`*^9, 3.5834364692434883`*^9}, {3.58343659158645*^9, 
   3.583436596411428*^9}, {3.583436661419263*^9, 3.583436694759347*^9}, {
   3.583436741141678*^9, 3.5834367613261957`*^9}, {3.58343683966567*^9, 
   3.583436849483515*^9}, {3.583436884538213*^9, 3.583436894477858*^9}, {
   3.5834369253901873`*^9, 3.583436988217811*^9}, {3.5834370194086246`*^9, 
   3.583437047518951*^9}, {3.583437082397332*^9, 3.583437082653151*^9}, {
   3.583437183127825*^9, 3.583437207396435*^9}, {3.5834373390972652`*^9, 
   3.583437350087676*^9}, {3.583437449237121*^9, 3.583437473727387*^9}, {
   3.583437537541911*^9, 3.583437566313034*^9}, {3.583437609231052*^9, 
   3.583437657563937*^9}, {3.583437693194694*^9, 3.583437774434849*^9}, {
   3.5834378363087063`*^9, 3.583437886941476*^9}, {3.583441784299611*^9, 
   3.583441808737364*^9}, {3.583441840352091*^9, 3.583441840711742*^9}, {
   3.5834418792049227`*^9, 3.583441992024467*^9}, {3.583442058557019*^9, 
   3.5834420829088287`*^9}, {3.583442123995248*^9, 3.5834421902915163`*^9}, {
   3.583442232514481*^9, 3.583442232698286*^9}, {3.583442373355009*^9, 
   3.583442410105406*^9}, {3.583442709019266*^9, 3.5834427824541187`*^9}, {
   3.583442814645714*^9, 3.583442884818281*^9}, {3.583442918976391*^9, 
   3.5834429262946253`*^9}, {3.58344296474233*^9, 3.583443172427453*^9}, {
   3.583443220835256*^9, 3.583443283405908*^9}, {3.5834442998718233`*^9, 
   3.583444410079978*^9}, {3.583445343340994*^9, 3.583445471470673*^9}, {
   3.583445514173266*^9, 3.583445555371125*^9}, {3.583445650174786*^9, 
   3.583445666662077*^9}, {3.583445698707181*^9, 3.583445737827853*^9}, {
   3.58344577779494*^9, 3.583445788193671*^9}, {3.583445874536685*^9, 
   3.583445970434134*^9}, {3.5834460043617697`*^9, 3.583446045934973*^9}, {
   3.583446498678194*^9, 3.583446627005569*^9}, {3.5834466663197412`*^9, 
   3.583446669028636*^9}, {3.5834467063272676`*^9, 3.583447006021099*^9}, {
   3.583447050312211*^9, 3.583447069774852*^9}, {3.5834471967715597`*^9, 
   3.5834472001855*^9}, {3.5834472361853123`*^9, 3.583447264423072*^9}, {
   3.583481665211721*^9, 3.583481666860874*^9}, {3.583481704852352*^9, 
   3.583481898909522*^9}, {3.583481933046606*^9, 3.583481935874333*^9}, {
   3.583481981719425*^9, 3.583482004995071*^9}, {3.583482063294682*^9, 
   3.583482095219472*^9}, {3.583482801733354*^9, 3.583482874317912*^9}, {
   3.583482914281472*^9, 3.583483058102542*^9}, {3.583483103227709*^9, 
   3.583483157412675*^9}, {3.583483241054783*^9, 3.583483255173402*^9}, {
   3.583483306614193*^9, 3.583483323549424*^9}, {3.583483361665567*^9, 
   3.583483362269519*^9}, {3.583483468184349*^9, 3.58348356129536*^9}, {
   3.583483605474492*^9, 3.583483607751169*^9}, 3.583483642015684*^9, {
   3.583485861352687*^9, 3.583485899023377*^9}, {3.583485965850499*^9, 
   3.583486202713798*^9}, {3.583486237741416*^9, 3.58348662154571*^9}, {
   3.583486742818276*^9, 3.583486748070507*^9}, {3.583486857516265*^9, 
   3.583486881565015*^9}, {3.5834869480304613`*^9, 3.583486988786202*^9}, {
   3.58348702330048*^9, 3.583487031178377*^9}, {3.583487189585259*^9, 
   3.583487257727291*^9}, 3.583487293648738*^9, {3.583487340034971*^9, 
   3.583487344021225*^9}, {3.5834903224304743`*^9, 3.583490334675354*^9}, {
   3.583490401355508*^9, 3.583490484996472*^9}, {3.583491361789535*^9, 
   3.583491370273617*^9}, {3.5834914046851797`*^9, 3.5834914067301607`*^9}, {
   3.583491466432026*^9, 3.5834915166400633`*^9}, {3.5834921408497353`*^9, 
   3.58349215237374*^9}, {3.5834922658716717`*^9, 3.5834923087347603`*^9}, {
   3.5834929054181433`*^9, 3.583492974078315*^9}, {3.583493006490206*^9, 
   3.583493076714017*^9}, {3.583493107330059*^9, 3.583493107599957*^9}, {
   3.58349317116475*^9, 3.583493171912616*^9}, {3.5834932878842278`*^9, 
   3.58349329656325*^9}, {3.583494185895813*^9, 3.583494194885748*^9}, {
   3.583494311777049*^9, 3.583494334079588*^9}, {3.583495829303864*^9, 
   3.5834958341985397`*^9}, {3.6019522985480633`*^9, 3.601952323233863*^9}, {
   3.602093919450734*^9, 3.602093947306123*^9}, {3.602093990196433*^9, 
   3.602093998009776*^9}, {3.602094032048499*^9, 3.602094071636139*^9}, {
   3.602094207190106*^9, 3.6020942786998463`*^9}, {3.602094342816188*^9, 
   3.602094364444476*^9}, {3.6020957611081047`*^9, 3.602095831491481*^9}, {
   3.60209662008319*^9, 3.602096621144905*^9}, {3.602097543251347*^9, 
   3.6020975726950493`*^9}, {3.602114286229087*^9, 3.602114286922776*^9}, {
   3.602114513391621*^9, 3.6021145647635803`*^9}, {3.602114766648244*^9, 
   3.602114769105962*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"dc1", "=", 
   RowBox[{
    RowBox[{
     RowBox[{"DeleteSmallComponents", "[", 
      RowBox[{"#", ",", "100"}], "]"}], "&"}], "/@", "ie1"}]}], 
  "\[IndentingNewLine]"}]], "Input",
 CellChangeTimes->{{3.583436315438991*^9, 3.583436368120729*^9}, {
   3.5834364274413424`*^9, 3.5834364692434883`*^9}, {3.58343659158645*^9, 
   3.583436596411428*^9}, {3.583436661419263*^9, 3.583436694759347*^9}, {
   3.583436741141678*^9, 3.5834367613261957`*^9}, {3.58343683966567*^9, 
   3.583436849483515*^9}, {3.583436884538213*^9, 3.583436894477858*^9}, {
   3.5834369253901873`*^9, 3.583436988217811*^9}, {3.5834370194086246`*^9, 
   3.583437047518951*^9}, {3.583437082397332*^9, 3.583437082653151*^9}, {
   3.583437183127825*^9, 3.583437207396435*^9}, {3.5834373390972652`*^9, 
   3.583437350087676*^9}, {3.583437449237121*^9, 3.583437473727387*^9}, {
   3.583437537541911*^9, 3.583437566313034*^9}, {3.583437609231052*^9, 
   3.583437657563937*^9}, {3.583437693194694*^9, 3.583437774434849*^9}, {
   3.5834378363087063`*^9, 3.583437886941476*^9}, {3.583441784299611*^9, 
   3.583441808737364*^9}, {3.583441840352091*^9, 3.583441840711742*^9}, {
   3.5834418792049227`*^9, 3.583441992024467*^9}, {3.583442058557019*^9, 
   3.5834420829088287`*^9}, {3.583442123995248*^9, 3.5834421902915163`*^9}, {
   3.583442232514481*^9, 3.583442232698286*^9}, {3.583442373355009*^9, 
   3.583442410105406*^9}, {3.583442709019266*^9, 3.5834427824541187`*^9}, {
   3.583442814645714*^9, 3.583442884818281*^9}, {3.583442918976391*^9, 
   3.5834429262946253`*^9}, {3.58344296474233*^9, 3.583443172427453*^9}, {
   3.583443220835256*^9, 3.583443283405908*^9}, {3.5834442998718233`*^9, 
   3.583444410079978*^9}, {3.583445343340994*^9, 3.583445471470673*^9}, {
   3.583445514173266*^9, 3.583445555371125*^9}, {3.583445650174786*^9, 
   3.583445666662077*^9}, {3.583445698707181*^9, 3.583445737827853*^9}, {
   3.58344577779494*^9, 3.583445788193671*^9}, {3.583445874536685*^9, 
   3.583445970434134*^9}, {3.5834460043617697`*^9, 3.583446045934973*^9}, {
   3.583446498678194*^9, 3.583446627005569*^9}, {3.5834466663197412`*^9, 
   3.583446669028636*^9}, {3.5834467063272676`*^9, 3.583447006021099*^9}, {
   3.583447050312211*^9, 3.583447069774852*^9}, {3.5834471967715597`*^9, 
   3.5834472001855*^9}, {3.5834472361853123`*^9, 3.583447264423072*^9}, {
   3.583481665211721*^9, 3.583481666860874*^9}, {3.583481704852352*^9, 
   3.583481898909522*^9}, {3.583481933046606*^9, 3.583481935874333*^9}, {
   3.583481981719425*^9, 3.583482004995071*^9}, {3.583482063294682*^9, 
   3.583482095219472*^9}, {3.583482801733354*^9, 3.583482874317912*^9}, {
   3.583482914281472*^9, 3.583483058102542*^9}, {3.583483103227709*^9, 
   3.583483157412675*^9}, {3.583483241054783*^9, 3.583483255173402*^9}, {
   3.583483306614193*^9, 3.583483323549424*^9}, {3.583483361665567*^9, 
   3.583483362269519*^9}, {3.583483468184349*^9, 3.58348356129536*^9}, {
   3.583483605474492*^9, 3.583483607751169*^9}, 3.583483642015684*^9, {
   3.583485861352687*^9, 3.583485899023377*^9}, {3.583485965850499*^9, 
   3.583486202713798*^9}, {3.583486237741416*^9, 3.58348662154571*^9}, {
   3.583486742818276*^9, 3.583486748070507*^9}, {3.583486857516265*^9, 
   3.583486881565015*^9}, {3.5834869480304613`*^9, 3.583486988786202*^9}, {
   3.58348702330048*^9, 3.583487031178377*^9}, {3.583487189585259*^9, 
   3.583487257727291*^9}, 3.583487293648738*^9, {3.583487340034971*^9, 
   3.583487344021225*^9}, {3.5834903224304743`*^9, 3.583490334675354*^9}, {
   3.583490401355508*^9, 3.583490484996472*^9}, {3.583491361789535*^9, 
   3.583491370273617*^9}, {3.5834914046851797`*^9, 3.5834914067301607`*^9}, {
   3.583491466432026*^9, 3.5834915166400633`*^9}, {3.5834921408497353`*^9, 
   3.58349215237374*^9}, {3.5834922658716717`*^9, 3.5834923087347603`*^9}, {
   3.5834929054181433`*^9, 3.583492974078315*^9}, {3.583493006490206*^9, 
   3.583493076714017*^9}, {3.583493107330059*^9, 3.583493107599957*^9}, {
   3.58349317116475*^9, 3.583493171912616*^9}, {3.5834932878842278`*^9, 
   3.58349329656325*^9}, {3.583494185895813*^9, 3.583494194885748*^9}, {
   3.583494311777049*^9, 3.583494334079588*^9}, {3.583495829303864*^9, 
   3.5834958341985397`*^9}, {3.6019522985480633`*^9, 3.601952323233863*^9}, {
   3.602093919450734*^9, 3.602093947306123*^9}, {3.602093990196433*^9, 
   3.602093998009776*^9}, {3.602094032048499*^9, 3.602094071636139*^9}, {
   3.602094207190106*^9, 3.6020942786998463`*^9}, {3.602094342816188*^9, 
   3.602094364444476*^9}, {3.6020957611081047`*^9, 3.602095831491481*^9}, {
   3.60209662008319*^9, 3.602096621144905*^9}, {3.602097543251347*^9, 
   3.6020975726950493`*^9}, {3.602114286229087*^9, 3.602114286922776*^9}, {
   3.602114513391621*^9, 3.6021145647635803`*^9}, {3.602114766648244*^9, 
   3.602114789511812*^9}}],

Cell[BoxData[{
 RowBox[{"lines1", "=", 
  RowBox[{"Map", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"ImageLines", "[", 
      RowBox[{"#", ",", ".15", ",", ".611"}], "]"}], "&"}], ",", "dc1"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"lines1", "=", 
  RowBox[{"Map", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"ImageLines", "[", "#", "]"}], "&"}], ",", "dc1"}], 
   "]"}]}]}], "Input",
 CellChangeTimes->{{3.583436315438991*^9, 3.583436368120729*^9}, {
   3.5834364274413424`*^9, 3.5834364692434883`*^9}, {3.58343659158645*^9, 
   3.583436596411428*^9}, {3.583436661419263*^9, 3.583436694759347*^9}, {
   3.583436741141678*^9, 3.5834367613261957`*^9}, {3.58343683966567*^9, 
   3.583436849483515*^9}, {3.583436884538213*^9, 3.583436894477858*^9}, {
   3.5834369253901873`*^9, 3.583436988217811*^9}, {3.5834370194086246`*^9, 
   3.583437047518951*^9}, {3.583437082397332*^9, 3.583437082653151*^9}, {
   3.583437183127825*^9, 3.583437207396435*^9}, {3.5834373390972652`*^9, 
   3.583437350087676*^9}, {3.583437449237121*^9, 3.583437473727387*^9}, {
   3.583437537541911*^9, 3.583437566313034*^9}, {3.583437609231052*^9, 
   3.583437657563937*^9}, {3.583437693194694*^9, 3.583437774434849*^9}, {
   3.5834378363087063`*^9, 3.583437886941476*^9}, {3.583441784299611*^9, 
   3.583441808737364*^9}, {3.583441840352091*^9, 3.583441840711742*^9}, {
   3.5834418792049227`*^9, 3.583441992024467*^9}, {3.583442058557019*^9, 
   3.5834420829088287`*^9}, {3.583442123995248*^9, 3.5834421902915163`*^9}, {
   3.583442232514481*^9, 3.583442232698286*^9}, {3.583442373355009*^9, 
   3.583442410105406*^9}, {3.583442709019266*^9, 3.5834427824541187`*^9}, {
   3.583442814645714*^9, 3.583442884818281*^9}, {3.583442918976391*^9, 
   3.5834429262946253`*^9}, {3.58344296474233*^9, 3.583443172427453*^9}, {
   3.583443220835256*^9, 3.583443283405908*^9}, {3.5834442998718233`*^9, 
   3.583444410079978*^9}, {3.583445343340994*^9, 3.583445471470673*^9}, {
   3.583445514173266*^9, 3.583445555371125*^9}, {3.583445650174786*^9, 
   3.583445666662077*^9}, {3.583445698707181*^9, 3.583445737827853*^9}, {
   3.58344577779494*^9, 3.583445788193671*^9}, {3.583445874536685*^9, 
   3.583445970434134*^9}, {3.5834460043617697`*^9, 3.583446045934973*^9}, {
   3.583446498678194*^9, 3.583446627005569*^9}, {3.5834466663197412`*^9, 
   3.583446669028636*^9}, {3.5834467063272676`*^9, 3.583447006021099*^9}, {
   3.583447050312211*^9, 3.583447069774852*^9}, {3.5834471967715597`*^9, 
   3.5834472001855*^9}, {3.5834472361853123`*^9, 3.583447264423072*^9}, {
   3.583481665211721*^9, 3.583481666860874*^9}, {3.583481704852352*^9, 
   3.583481898909522*^9}, {3.583481933046606*^9, 3.583481935874333*^9}, {
   3.583481981719425*^9, 3.583482004995071*^9}, {3.583482063294682*^9, 
   3.583482095219472*^9}, {3.583482801733354*^9, 3.583482874317912*^9}, {
   3.583482914281472*^9, 3.583483058102542*^9}, {3.583483103227709*^9, 
   3.583483157412675*^9}, {3.583483241054783*^9, 3.583483255173402*^9}, {
   3.583483306614193*^9, 3.583483323549424*^9}, {3.583483361665567*^9, 
   3.583483362269519*^9}, {3.583483468184349*^9, 3.58348356129536*^9}, {
   3.583483605474492*^9, 3.583483607751169*^9}, 3.583483642015684*^9, {
   3.583485861352687*^9, 3.583485899023377*^9}, {3.583485965850499*^9, 
   3.583486202713798*^9}, {3.583486237741416*^9, 3.58348662154571*^9}, {
   3.583486742818276*^9, 3.583486748070507*^9}, {3.583486857516265*^9, 
   3.583486881565015*^9}, {3.5834869480304613`*^9, 3.583486988786202*^9}, {
   3.58348702330048*^9, 3.583487031178377*^9}, {3.583487189585259*^9, 
   3.583487257727291*^9}, 3.583487293648738*^9, {3.583487340034971*^9, 
   3.583487344021225*^9}, {3.5834903224304743`*^9, 3.583490334675354*^9}, {
   3.583490401355508*^9, 3.583490484996472*^9}, {3.583491361789535*^9, 
   3.583491370273617*^9}, {3.5834914046851797`*^9, 3.5834914067301607`*^9}, {
   3.583491466432026*^9, 3.5834915166400633`*^9}, {3.5834921408497353`*^9, 
   3.58349215237374*^9}, {3.5834922658716717`*^9, 3.5834923087347603`*^9}, {
   3.5834929054181433`*^9, 3.583492974078315*^9}, {3.583493006490206*^9, 
   3.583493076714017*^9}, {3.583493107330059*^9, 3.583493107599957*^9}, {
   3.58349317116475*^9, 3.583493171912616*^9}, {3.5834932878842278`*^9, 
   3.58349329656325*^9}, {3.583494185895813*^9, 3.583494194885748*^9}, {
   3.583494311777049*^9, 3.583494334079588*^9}, {3.583495829303864*^9, 
   3.5834958341985397`*^9}, {3.6019522985480633`*^9, 3.601952323233863*^9}, {
   3.602093919450734*^9, 3.602093947306123*^9}, {3.602093990196433*^9, 
   3.602093998009776*^9}, {3.602094032048499*^9, 3.602094071636139*^9}, {
   3.602094207190106*^9, 3.6020942786998463`*^9}, {3.602094342816188*^9, 
   3.602094364444476*^9}, {3.6020957611081047`*^9, 3.602095831491481*^9}, {
   3.60209662008319*^9, 3.602096621144905*^9}, {3.602097543251347*^9, 
   3.6020975726950493`*^9}, {3.602114286229087*^9, 3.602114286922776*^9}, {
   3.602114513391621*^9, 3.6021145647635803`*^9}, {3.602114766648244*^9, 
   3.602114837997367*^9}, {3.602114965665681*^9, 3.6021149934291973`*^9}, {
   3.602115040767993*^9, 3.602115042125717*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"slope", "[", 
   RowBox[{"{", 
    RowBox[{"p1_", ",", "p2_"}], "}"}], "]"}], ":=", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{
     RowBox[{"p2", "[", 
      RowBox[{"[", "2", "]"}], "]"}], "-", 
     RowBox[{"p1", "[", 
      RowBox[{"[", "2", "]"}], "]"}]}], ")"}], "/", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"p2", "[", 
      RowBox[{"[", "1", "]"}], "]"}], "-", 
     RowBox[{"p1", "[", 
      RowBox[{"[", "1", "]"}], "]"}]}], ")"}]}]}], "\n", 
 RowBox[{"tl", "=", 
  RowBox[{"Transpose", "[", 
   RowBox[{"{", 
    RowBox[{"images", ",", "lines1"}], "}"}], "]"}]}], "\[IndentingNewLine]", 

 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Show", "[", 
     RowBox[{
      RowBox[{"#", "[", 
       RowBox[{"[", "1", "]"}], "]"}], ",", 
      RowBox[{"Graphics", "[", 
       RowBox[{"{", 
        RowBox[{"Thick", ",", "Red", ",", 
         RowBox[{"Line", "/@", 
          RowBox[{"#", "[", 
           RowBox[{"[", "2", "]"}], "]"}]}]}], "}"}], "]"}], ",", 
      RowBox[{"ImageSize", "\[Rule]", "100"}]}], "]"}], "&"}], "/@", " ", 
   "tl"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]"}], "Input",
 CellChangeTimes->{{3.583436315438991*^9, 3.583436368120729*^9}, {
   3.5834364274413424`*^9, 3.5834364692434883`*^9}, {3.58343659158645*^9, 
   3.583436596411428*^9}, {3.583436661419263*^9, 3.583436694759347*^9}, {
   3.583436741141678*^9, 3.5834367613261957`*^9}, {3.58343683966567*^9, 
   3.583436849483515*^9}, {3.583436884538213*^9, 3.583436894477858*^9}, {
   3.5834369253901873`*^9, 3.583436988217811*^9}, {3.5834370194086246`*^9, 
   3.583437047518951*^9}, {3.583437082397332*^9, 3.583437082653151*^9}, {
   3.583437183127825*^9, 3.583437207396435*^9}, {3.5834373390972652`*^9, 
   3.583437350087676*^9}, {3.583437449237121*^9, 3.583437473727387*^9}, {
   3.583437537541911*^9, 3.583437566313034*^9}, {3.583437609231052*^9, 
   3.583437657563937*^9}, {3.583437693194694*^9, 3.583437774434849*^9}, {
   3.5834378363087063`*^9, 3.583437886941476*^9}, {3.583441784299611*^9, 
   3.583441808737364*^9}, {3.583441840352091*^9, 3.583441840711742*^9}, {
   3.5834418792049227`*^9, 3.583441992024467*^9}, {3.583442058557019*^9, 
   3.5834420829088287`*^9}, {3.583442123995248*^9, 3.5834421902915163`*^9}, {
   3.583442232514481*^9, 3.583442232698286*^9}, {3.583442373355009*^9, 
   3.583442410105406*^9}, {3.583442709019266*^9, 3.5834427824541187`*^9}, {
   3.583442814645714*^9, 3.583442884818281*^9}, {3.583442918976391*^9, 
   3.5834429262946253`*^9}, {3.58344296474233*^9, 3.583443172427453*^9}, {
   3.583443220835256*^9, 3.583443283405908*^9}, {3.5834442998718233`*^9, 
   3.583444410079978*^9}, {3.583445343340994*^9, 3.583445471470673*^9}, {
   3.583445514173266*^9, 3.583445555371125*^9}, {3.583445650174786*^9, 
   3.583445666662077*^9}, {3.583445698707181*^9, 3.583445737827853*^9}, {
   3.58344577779494*^9, 3.583445788193671*^9}, {3.583445874536685*^9, 
   3.583445970434134*^9}, {3.5834460043617697`*^9, 3.583446045934973*^9}, {
   3.583446498678194*^9, 3.583446627005569*^9}, {3.5834466663197412`*^9, 
   3.583446669028636*^9}, {3.5834467063272676`*^9, 3.583447006021099*^9}, {
   3.583447050312211*^9, 3.583447069774852*^9}, {3.5834471967715597`*^9, 
   3.5834472001855*^9}, {3.5834472361853123`*^9, 3.583447264423072*^9}, {
   3.583481665211721*^9, 3.583481666860874*^9}, {3.583481704852352*^9, 
   3.583481898909522*^9}, {3.583481933046606*^9, 3.583481935874333*^9}, {
   3.583481981719425*^9, 3.583482004995071*^9}, {3.583482063294682*^9, 
   3.583482095219472*^9}, {3.583482801733354*^9, 3.583482874317912*^9}, {
   3.583482914281472*^9, 3.583483058102542*^9}, {3.583483103227709*^9, 
   3.583483157412675*^9}, {3.583483241054783*^9, 3.583483255173402*^9}, {
   3.583483306614193*^9, 3.583483323549424*^9}, {3.583483361665567*^9, 
   3.583483362269519*^9}, {3.583483468184349*^9, 3.58348356129536*^9}, {
   3.583483605474492*^9, 3.583483607751169*^9}, 3.583483642015684*^9, {
   3.583485861352687*^9, 3.583485899023377*^9}, {3.583485965850499*^9, 
   3.583486202713798*^9}, {3.583486237741416*^9, 3.58348662154571*^9}, {
   3.583486742818276*^9, 3.583486748070507*^9}, {3.583486857516265*^9, 
   3.583486881565015*^9}, {3.5834869480304613`*^9, 3.583486988786202*^9}, {
   3.58348702330048*^9, 3.583487031178377*^9}, {3.583487189585259*^9, 
   3.583487257727291*^9}, 3.583487293648738*^9, {3.583487340034971*^9, 
   3.583487344021225*^9}, {3.5834903224304743`*^9, 3.583490334675354*^9}, {
   3.583490401355508*^9, 3.583490484996472*^9}, {3.583491361789535*^9, 
   3.583491370273617*^9}, {3.5834914046851797`*^9, 3.5834914067301607`*^9}, {
   3.583491466432026*^9, 3.5834915166400633`*^9}, {3.5834921408497353`*^9, 
   3.58349215237374*^9}, {3.5834922658716717`*^9, 3.5834923087347603`*^9}, {
   3.5834929054181433`*^9, 3.583492974078315*^9}, {3.583493006490206*^9, 
   3.583493076714017*^9}, {3.583493107330059*^9, 3.583493107599957*^9}, {
   3.58349317116475*^9, 3.583493171912616*^9}, {3.5834932878842278`*^9, 
   3.58349329656325*^9}, {3.583494185895813*^9, 3.583494194885748*^9}, {
   3.583494311777049*^9, 3.583494334079588*^9}, {3.583495829303864*^9, 
   3.5834958341985397`*^9}, {3.6019522985480633`*^9, 3.601952323233863*^9}, {
   3.602093919450734*^9, 3.602093947306123*^9}, {3.602093990196433*^9, 
   3.602093998009776*^9}, {3.602094032048499*^9, 3.602094071636139*^9}, {
   3.602094207190106*^9, 3.6020942786998463`*^9}, {3.602094342816188*^9, 
   3.602094364444476*^9}, {3.6020957611081047`*^9, 3.602095831491481*^9}, {
   3.60209662008319*^9, 3.602096621144905*^9}, {3.602097543251347*^9, 
   3.6020975726950493`*^9}, {3.602114286229087*^9, 3.602114286922776*^9}, {
   3.602114513391621*^9, 3.6021145647635803`*^9}, {3.602114766648244*^9, 
   3.602114837997367*^9}, {3.602114876798656*^9, 3.602114927784059*^9}}],

Cell[BoxData[
 RowBox[{"\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"getthresh", "[", 
      RowBox[{"{", 
       RowBox[{"n_", ",", "m_"}], "}"}], "]"}], " ", ":=", " ", 
     RowBox[{"Threshold", "[", 
      RowBox[{"ImageSubtract", "[", 
       RowBox[{
        RowBox[{"getfile", "[", "n", "]"}], ",", 
        RowBox[{"getfile", "[", "m", "]"}]}], "]"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"getdiffopen", "[", 
      RowBox[{"{", 
       RowBox[{"n_", ",", "m_"}], "}"}], "]"}], " ", ":=", " ", 
     RowBox[{"Opening", "[", 
      RowBox[{
       RowBox[{"getthresh", "[", 
        RowBox[{"{", 
         RowBox[{"n", ",", "m"}], "}"}], "]"}], ",", 
       RowBox[{"DiskMatrix", "[", "7", "]"}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"getdiff", "[", 
      RowBox[{"{", 
       RowBox[{"n_", ",", "m_"}], "}"}], "]"}], " ", ":=", " ", 
     RowBox[{"Binarize", "[", 
      RowBox[{"getdiffopen", "[", 
       RowBox[{"{", 
        RowBox[{"n", ",", "m"}], "}"}], "]"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]"}]}]], "Input",
 CellChangeTimes->{{3.583436315438991*^9, 3.583436368120729*^9}, {
   3.5834364274413424`*^9, 3.5834364692434883`*^9}, {3.58343659158645*^9, 
   3.583436596411428*^9}, {3.583436661419263*^9, 3.583436694759347*^9}, {
   3.583436741141678*^9, 3.5834367613261957`*^9}, {3.58343683966567*^9, 
   3.583436849483515*^9}, {3.583436884538213*^9, 3.583436894477858*^9}, {
   3.5834369253901873`*^9, 3.583436988217811*^9}, {3.5834370194086246`*^9, 
   3.583437047518951*^9}, {3.583437082397332*^9, 3.583437082653151*^9}, {
   3.583437183127825*^9, 3.583437207396435*^9}, {3.5834373390972652`*^9, 
   3.583437350087676*^9}, {3.583437449237121*^9, 3.583437473727387*^9}, {
   3.583437537541911*^9, 3.583437566313034*^9}, {3.583437609231052*^9, 
   3.583437657563937*^9}, {3.583437693194694*^9, 3.583437774434849*^9}, {
   3.5834378363087063`*^9, 3.583437886941476*^9}, {3.583441784299611*^9, 
   3.583441808737364*^9}, {3.583441840352091*^9, 3.583441840711742*^9}, {
   3.5834418792049227`*^9, 3.583441992024467*^9}, {3.583442058557019*^9, 
   3.5834420829088287`*^9}, {3.583442123995248*^9, 3.5834421902915163`*^9}, {
   3.583442232514481*^9, 3.583442232698286*^9}, {3.583442373355009*^9, 
   3.583442410105406*^9}, {3.583442709019266*^9, 3.5834427824541187`*^9}, {
   3.583442814645714*^9, 3.583442884818281*^9}, {3.583442918976391*^9, 
   3.5834429262946253`*^9}, {3.58344296474233*^9, 3.583443172427453*^9}, {
   3.583443220835256*^9, 3.583443283405908*^9}, {3.5834442998718233`*^9, 
   3.583444410079978*^9}, {3.583445343340994*^9, 3.583445471470673*^9}, {
   3.583445514173266*^9, 3.583445555371125*^9}, {3.583445650174786*^9, 
   3.583445666662077*^9}, {3.583445698707181*^9, 3.583445737827853*^9}, {
   3.58344577779494*^9, 3.583445788193671*^9}, {3.583445874536685*^9, 
   3.583445970434134*^9}, {3.5834460043617697`*^9, 3.583446045934973*^9}, {
   3.583446498678194*^9, 3.583446627005569*^9}, {3.5834466663197412`*^9, 
   3.583446669028636*^9}, {3.5834467063272676`*^9, 3.583447006021099*^9}, {
   3.583447050312211*^9, 3.583447069774852*^9}, {3.5834471967715597`*^9, 
   3.5834472001855*^9}, {3.5834472361853123`*^9, 3.583447264423072*^9}, {
   3.583481665211721*^9, 3.583481666860874*^9}, {3.583481704852352*^9, 
   3.583481898909522*^9}, {3.583481933046606*^9, 3.583481935874333*^9}, {
   3.583481981719425*^9, 3.583482004995071*^9}, {3.583482063294682*^9, 
   3.583482095219472*^9}, {3.583482801733354*^9, 3.583482874317912*^9}, {
   3.583482914281472*^9, 3.583483058102542*^9}, {3.583483103227709*^9, 
   3.583483157412675*^9}, {3.583483241054783*^9, 3.583483255173402*^9}, {
   3.583483306614193*^9, 3.583483323549424*^9}, {3.583483361665567*^9, 
   3.583483362269519*^9}, {3.583483468184349*^9, 3.58348356129536*^9}, {
   3.583483605474492*^9, 3.583483607751169*^9}, 3.583483642015684*^9, {
   3.583485861352687*^9, 3.583485899023377*^9}, {3.583485965850499*^9, 
   3.583486202713798*^9}, {3.583486237741416*^9, 3.58348662154571*^9}, {
   3.583486742818276*^9, 3.583486748070507*^9}, {3.583486857516265*^9, 
   3.583486881565015*^9}, {3.5834869480304613`*^9, 3.583486988786202*^9}, {
   3.58348702330048*^9, 3.583487031178377*^9}, {3.583487189585259*^9, 
   3.583487257727291*^9}, 3.583487293648738*^9, {3.583487340034971*^9, 
   3.583487344021225*^9}, {3.5834903224304743`*^9, 3.583490334675354*^9}, {
   3.583490401355508*^9, 3.5834904988456717`*^9}, {3.583490568256844*^9, 
   3.5834906225696783`*^9}, {3.5834908766667957`*^9, 3.583490876716379*^9}, {
   3.5834910949049253`*^9, 3.583491102726692*^9}, {3.583491163097644*^9, 
   3.583491243553301*^9}, {3.583492165921678*^9, 3.583492189414522*^9}, {
   3.583493094270925*^9, 3.583493102046742*^9}, {3.5834932301765213`*^9, 
   3.583493240110441*^9}, {3.583493298378829*^9, 3.583493385895735*^9}, {
   3.58349353736847*^9, 3.583493551875181*^9}, {3.583493589315593*^9, 
   3.583493594448475*^9}, {3.58349366661197*^9, 3.583493702824522*^9}, {
   3.583493802836635*^9, 3.583493803575597*^9}, {3.583493872724759*^9, 
   3.583493876048036*^9}, {3.583493984162263*^9, 3.583493994464004*^9}, {
   3.5834940342832413`*^9, 3.583494037456161*^9}, {3.5834940831243067`*^9, 
   3.5834940860159883`*^9}, {3.583494120860096*^9, 3.583494125639975*^9}, {
   3.583494199658765*^9, 3.583494231573217*^9}, {3.583494338112486*^9, 
   3.583494338375924*^9}, {3.583494666395639*^9, 3.5834946918238077`*^9}, {
   3.583494775283435*^9, 3.583494820770461*^9}, {3.583494921396147*^9, 
   3.583494940912323*^9}, {3.583495009196529*^9, 3.583495014641006*^9}, {
   3.5834950582202263`*^9, 3.5834950623124657`*^9}, {3.583495094419901*^9, 
   3.583495105874158*^9}, {3.58349537271456*^9, 3.583495640186474*^9}, {
   3.583495719991041*^9, 3.583495750087961*^9}, {3.583496164055521*^9, 
   3.58349617163203*^9}, {3.58349629889685*^9, 3.583496350591034*^9}, {
   3.583496385240183*^9, 3.583496479480649*^9}}],

Cell[BoxData[
 RowBox[{"\[IndentingNewLine]", 
  RowBox[{"Manipulate", "[", 
   RowBox[{
    RowBox[{"GraphicsGrid", "[", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"{", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"getthresh", "[", 
          RowBox[{"{", 
           RowBox[{"1", ",", "n"}], "}"}], "]"}], ",", "\[IndentingNewLine]", 
         
         RowBox[{"getdiffopen", "[", 
          RowBox[{"{", 
           RowBox[{"1", ",", "n"}], "}"}], "]"}], ",", "\[IndentingNewLine]", 
         
         RowBox[{"getdiff", "[", 
          RowBox[{"{", 
           RowBox[{"1", ",", "n"}], "}"}], "]"}], ","}], 
        "\[IndentingNewLine]", "\[IndentingNewLine]", "}"}], "}"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"ImageSize", "\[Rule]", 
       RowBox[{"{", 
        RowBox[{"400", ",", "200"}], "}"}]}]}], "]"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"{", 
     RowBox[{"n", ",", "2", ",", 
      RowBox[{"numfiles", "-", "2"}], ",", "1"}], "}"}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.583436315438991*^9, 3.583436368120729*^9}, {
   3.5834364274413424`*^9, 3.5834364692434883`*^9}, {3.58343659158645*^9, 
   3.583436596411428*^9}, {3.583436661419263*^9, 3.583436694759347*^9}, {
   3.583436741141678*^9, 3.5834367613261957`*^9}, {3.58343683966567*^9, 
   3.583436849483515*^9}, {3.583436884538213*^9, 3.583436894477858*^9}, {
   3.5834369253901873`*^9, 3.583436988217811*^9}, {3.5834370194086246`*^9, 
   3.583437047518951*^9}, {3.583437082397332*^9, 3.583437082653151*^9}, {
   3.583437183127825*^9, 3.583437207396435*^9}, {3.5834373390972652`*^9, 
   3.583437350087676*^9}, {3.583437449237121*^9, 3.583437473727387*^9}, {
   3.583437537541911*^9, 3.583437566313034*^9}, {3.583437609231052*^9, 
   3.583437657563937*^9}, {3.583437693194694*^9, 3.583437774434849*^9}, {
   3.5834378363087063`*^9, 3.583437886941476*^9}, {3.583441784299611*^9, 
   3.583441808737364*^9}, {3.583441840352091*^9, 3.583441840711742*^9}, {
   3.5834418792049227`*^9, 3.583441992024467*^9}, {3.583442058557019*^9, 
   3.5834420829088287`*^9}, {3.583442123995248*^9, 3.5834421902915163`*^9}, {
   3.583442232514481*^9, 3.583442232698286*^9}, {3.583442373355009*^9, 
   3.583442410105406*^9}, {3.583442709019266*^9, 3.5834427824541187`*^9}, {
   3.583442814645714*^9, 3.583442884818281*^9}, {3.583442918976391*^9, 
   3.5834429262946253`*^9}, {3.58344296474233*^9, 3.583443172427453*^9}, {
   3.583443220835256*^9, 3.583443283405908*^9}, {3.5834442998718233`*^9, 
   3.583444410079978*^9}, {3.583445343340994*^9, 3.583445471470673*^9}, {
   3.583445514173266*^9, 3.583445555371125*^9}, {3.583445650174786*^9, 
   3.583445666662077*^9}, {3.583445698707181*^9, 3.583445737827853*^9}, {
   3.58344577779494*^9, 3.583445788193671*^9}, {3.583445874536685*^9, 
   3.583445970434134*^9}, {3.5834460043617697`*^9, 3.583446045934973*^9}, {
   3.583446498678194*^9, 3.583446627005569*^9}, {3.5834466663197412`*^9, 
   3.583446669028636*^9}, {3.5834467063272676`*^9, 3.583447006021099*^9}, {
   3.583447050312211*^9, 3.583447069774852*^9}, {3.5834471967715597`*^9, 
   3.5834472001855*^9}, {3.5834472361853123`*^9, 3.583447264423072*^9}, {
   3.583481665211721*^9, 3.583481666860874*^9}, {3.583481704852352*^9, 
   3.583481898909522*^9}, {3.583481933046606*^9, 3.583481935874333*^9}, {
   3.583481981719425*^9, 3.583482004995071*^9}, {3.583482063294682*^9, 
   3.583482095219472*^9}, {3.583482801733354*^9, 3.583482874317912*^9}, {
   3.583482914281472*^9, 3.583483058102542*^9}, {3.583483103227709*^9, 
   3.583483157412675*^9}, {3.583483241054783*^9, 3.583483255173402*^9}, {
   3.583483306614193*^9, 3.583483323549424*^9}, {3.583483361665567*^9, 
   3.583483362269519*^9}, {3.583483468184349*^9, 3.58348356129536*^9}, {
   3.583483605474492*^9, 3.583483607751169*^9}, 3.583483642015684*^9, {
   3.583485861352687*^9, 3.583485899023377*^9}, {3.583485965850499*^9, 
   3.583486202713798*^9}, {3.583486237741416*^9, 3.58348662154571*^9}, {
   3.583486742818276*^9, 3.583486748070507*^9}, {3.583486857516265*^9, 
   3.583486881565015*^9}, {3.5834869480304613`*^9, 3.583486988786202*^9}, {
   3.58348702330048*^9, 3.583487031178377*^9}, {3.583487189585259*^9, 
   3.583487257727291*^9}, 3.583487293648738*^9, {3.583487340034971*^9, 
   3.583487344021225*^9}, {3.5834903224304743`*^9, 3.583490334675354*^9}, {
   3.583490401355508*^9, 3.5834904988456717`*^9}, {3.583490568256844*^9, 
   3.5834906225696783`*^9}, {3.5834908766667957`*^9, 3.583490876716379*^9}, {
   3.5834910949049253`*^9, 3.583491102726692*^9}, {3.583491163097644*^9, 
   3.583491243553301*^9}, {3.583492165921678*^9, 3.583492189414522*^9}, {
   3.583493094270925*^9, 3.583493102046742*^9}, {3.5834932301765213`*^9, 
   3.583493240110441*^9}, {3.583493298378829*^9, 3.583493385895735*^9}, {
   3.58349353736847*^9, 3.583493551875181*^9}, {3.583493589315593*^9, 
   3.583493594448475*^9}, {3.58349366661197*^9, 3.583493702824522*^9}, {
   3.583493802836635*^9, 3.583493803575597*^9}, {3.583493872724759*^9, 
   3.583493876048036*^9}, {3.583493984162263*^9, 3.583493994464004*^9}, {
   3.5834940342832413`*^9, 3.583494037456161*^9}, {3.5834940831243067`*^9, 
   3.5834940860159883`*^9}, {3.583494120860096*^9, 3.583494125639975*^9}, {
   3.583494199658765*^9, 3.583494231573217*^9}, {3.583494338112486*^9, 
   3.583494338375924*^9}, {3.583494666395639*^9, 3.5834946918238077`*^9}, {
   3.583494775283435*^9, 3.583494820770461*^9}, {3.583494921396147*^9, 
   3.583494940912323*^9}, {3.583495009196529*^9, 3.583495014641006*^9}, {
   3.5834950582202263`*^9, 3.5834950623124657`*^9}, {3.583495094419901*^9, 
   3.583495105874158*^9}, {3.58349537271456*^9, 3.583495640186474*^9}, 
   3.583495719991041*^9, {3.5834957606879997`*^9, 3.583495778062443*^9}, {
   3.583495846342725*^9, 3.583495879806322*^9}, {3.5834959127223053`*^9, 
   3.583496142969513*^9}, {3.583496179227409*^9, 3.583496187175839*^9}, 
   3.583496225921671*^9, {3.583496264873549*^9, 3.5834962957212467`*^9}, {
   3.583496481930171*^9, 3.5834964970704412`*^9}}],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.583490301135583*^9, 3.583490301540299*^9}, 
   3.583490371883812*^9}],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.583436315438991*^9, 3.583436368120729*^9}, {
   3.5834364274413424`*^9, 3.5834364692434883`*^9}, {3.58343659158645*^9, 
   3.583436596411428*^9}, {3.583436661419263*^9, 3.583436694759347*^9}, {
   3.583436741141678*^9, 3.5834367613261957`*^9}, {3.58343683966567*^9, 
   3.583436849483515*^9}, {3.583436884538213*^9, 3.583436894477858*^9}, {
   3.5834369253901873`*^9, 3.583436988217811*^9}, {3.5834370194086246`*^9, 
   3.583437047518951*^9}, {3.583437082397332*^9, 3.583437082653151*^9}, {
   3.583437183127825*^9, 3.583437207396435*^9}, {3.5834373390972652`*^9, 
   3.583437350087676*^9}, {3.583437449237121*^9, 3.583437473727387*^9}, {
   3.583437537541911*^9, 3.583437566313034*^9}, {3.583437609231052*^9, 
   3.583437657563937*^9}, {3.583437693194694*^9, 3.583437774434849*^9}, {
   3.5834378363087063`*^9, 3.583437886941476*^9}, {3.583441784299611*^9, 
   3.583441808737364*^9}, {3.583441840352091*^9, 3.583441840711742*^9}, {
   3.5834418792049227`*^9, 3.583441992024467*^9}, {3.583442058557019*^9, 
   3.5834420829088287`*^9}, {3.583442123995248*^9, 3.5834421902915163`*^9}, {
   3.583442232514481*^9, 3.583442232698286*^9}, {3.583442373355009*^9, 
   3.583442410105406*^9}, {3.583442709019266*^9, 3.5834427824541187`*^9}, {
   3.583442814645714*^9, 3.583442884818281*^9}, {3.583442918976391*^9, 
   3.5834429262946253`*^9}, {3.58344296474233*^9, 3.583443172427453*^9}, {
   3.583443220835256*^9, 3.583443283405908*^9}, {3.5834442998718233`*^9, 
   3.583444410079978*^9}, {3.583445343340994*^9, 3.583445471470673*^9}, {
   3.583445514173266*^9, 3.583445555371125*^9}, {3.583445650174786*^9, 
   3.583445666662077*^9}, {3.583445698707181*^9, 3.583445737827853*^9}, {
   3.58344577779494*^9, 3.583445788193671*^9}, {3.583445874536685*^9, 
   3.583445970434134*^9}, {3.5834460043617697`*^9, 3.583446045934973*^9}, {
   3.583446498678194*^9, 3.583446627005569*^9}, {3.5834466663197412`*^9, 
   3.583446669028636*^9}, {3.5834467063272676`*^9, 3.583447006021099*^9}, {
   3.583447050312211*^9, 3.583447069774852*^9}, {3.5834471967715597`*^9, 
   3.5834472001855*^9}, {3.5834472361853123`*^9, 3.583447264423072*^9}, {
   3.583481665211721*^9, 3.583481666860874*^9}, {3.583481704852352*^9, 
   3.583481898909522*^9}, {3.583481933046606*^9, 3.583481935874333*^9}, {
   3.583481981719425*^9, 3.583482004995071*^9}, {3.583482063294682*^9, 
   3.583482095219472*^9}, {3.583482801733354*^9, 3.583482874317912*^9}, {
   3.583482914281472*^9, 3.583483058102542*^9}, {3.583483103227709*^9, 
   3.583483157412675*^9}, {3.583483241054783*^9, 3.583483242940441*^9}, {
   3.583483636646147*^9, 3.5834836375899067`*^9}, {3.583486835832168*^9, 
   3.58348683919798*^9}, 3.5834873948894367`*^9}],

Cell[BoxData[
 RowBox[{"\[IndentingNewLine]", "\[IndentingNewLine]", "\[IndentingNewLine]", 
  
  RowBox[{
   RowBox[{
    RowBox[{"previmage", "=", 
     RowBox[{"ColorConvert", "[", 
      RowBox[{
       RowBox[{
       "Import", "[", 
        "\"\</Users/macbookpro/Documents/recorder \
tests/dennissmall/image119.jpg\>\"", "]"}], ",", "\"\<Grayscale\>\""}], 
      "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"curimage", "=", 
     RowBox[{"ColorConvert", "[", 
      RowBox[{
       RowBox[{
       "Import", "[", 
        "\"\</Users/macbookpro/Documents/recorder \
tests/dennissmall/image120.jpg\>\"", "]"}], ",", "\"\<Grayscale\>\""}], 
      "]"}]}], ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"white", "=", 
     RowBox[{"Closing", "[", 
      RowBox[{"curimage", ",", 
       RowBox[{"DiskMatrix", "[", "5", "]"}]}], "]"}]}], ";"}], "\n", 
   RowBox[{
    RowBox[{"cur1", "=", 
     RowBox[{"Image", "[", 
      RowBox[{
       RowBox[{"ImageData", "[", "curimage", "]"}], "/", 
       RowBox[{"ImageData", "[", "white", "]"}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"white2", "=", 
     RowBox[{"Closing", "[", 
      RowBox[{"previmage", ",", 
       RowBox[{"DiskMatrix", "[", "2", "]"}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"cur2", " ", "=", 
     RowBox[{"Image", "[", 
      RowBox[{
       RowBox[{"ImageData", "[", "previmage", "]"}], "/", 
       RowBox[{"ImageData", "[", "white2", "]"}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"diff", " ", "=", " ", 
     RowBox[{"ImageSubtract", "[", 
      RowBox[{"cur1", ",", "cur2"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"diff2", " ", "=", " ", 
     RowBox[{"ImageSubtract", "[", 
      RowBox[{"previmage", ",", "curimage"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{"GraphicsGrid", "[", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"previmage", ",", "curimage", ",", "diff2"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"cur1", ",", "cur2", ",", "diff"}], "}"}]}], "}"}], "]"}], 
   "\[IndentingNewLine]"}]}]], "Input",
 CellChangeTimes->CompressedData["
1:eJwd0m1IE2AQB/ClLpoWC2eudJWVONiy0fZhqGH4SokSG9OENhTNL5vbRGKu
NZWI1oZpaDHXQt0yMklJDNJEIUuWLluIsiZkLtGV01ysAtkatP/z4eEHzx3H
cXcnatTiuhgKhSKIPijcr3r3ZdSfF7sS64S646oF+Mw54IaCmeAGVHDafdAq
H96BXaWeILQZn+xCfgMnDLllf+NWov7R8vbC+KzOeNhT8ikByvVDdHhp18CE
1xjKVHj+0a9jMPiq9BTJ90mI6cx1HrS82ObDeVZtAcx1vS2ErWa2CE4XCyWw
4vJZKayOc1bB91fZddCRwFfAQPZTNbzg/3gdbntNN2FX2tc7pD8zTb0aVW9h
NkJJYYIGdjuSiRMdPh1Uz1JMMGVR1AnTDskewMTl1ofkXzJnh3bNwQEorUwm
npM+Hyf1qwqm4FKPbQ2mG11bcGRwKUDyedZdaMld/Qe7lHMRyJ3ujvFGHR1u
Z0HFhPUkFETqOTC0cWMQnrmXPwbrN/3cb5gPPZAD69qK8mC+V1EMl7uLxHCS
Vy6B2faKSuhozpbBjIasGtjBN9RCw2mRCirXy3Sw935bCyzdmroFZ16WT8K+
zOp5KM4pWYBmv40Y0pa4oWfoTRg+jlzcs4b4h/FY2DtiYRAD1CSYtHP7MHSZ
DrCgwpHxI4j93b1C1Ban/oSuFBn1N+6j2U6DplCYaKSO0WHf575ESFNtHoF+
6vejsL9JqIH7ZhlNkBNgezLd0T3qXxNTWuy+xqjyvEXifwVh3z0=
  "]],

Cell[BoxData[
 RowBox[{"\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"white", "=", 
     RowBox[{"Closing", "[", 
      RowBox[{"previmage", ",", 
       RowBox[{"DiskMatrix", "[", "5", "]"}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"srcAdjusted2", "=", 
     RowBox[{"Image", "[", 
      RowBox[{
       RowBox[{"ImageData", "[", "previmage", "]"}], "/", 
       RowBox[{"ImageData", "[", "white", "]"}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"b", "=", 
     RowBox[{"Opening", "[", 
      RowBox[{"srcAdjusted2", ",", 
       RowBox[{"DiskMatrix", "[", "3", "]"}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"c", " ", "=", " ", 
     RowBox[{"Opening", "[", 
      RowBox[{
       RowBox[{"ImageDifference", "[", 
        RowBox[{"a", ",", "b"}], "]"}], ",", 
       RowBox[{"DiskMatrix", "[", "5", "]"}]}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"d", " ", "=", " ", 
     RowBox[{"ImageDifference", "[", 
      RowBox[{"previmage", ",", "curimage"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"e", "=", 
     RowBox[{"Binarize", "[", 
      RowBox[{"d", ",", ".3"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{"GraphicsGrid", "[", 
    RowBox[{"{", 
     RowBox[{"{", 
      RowBox[{"a", ",", "b", ",", "c", ",", "d", ",", "e"}], "}"}], "}"}], 
    "]"}]}]}]], "Input",
 CellChangeTimes->CompressedData["
1:eJwd0W1I03EQB/DlTMgVhk+TGj6kKGzaaL4QZxg+kmMiG39NcKJoe+PfbRIi
ukyJaDpMwxnbWmibiA+oJAYpopAlU5dNRBGF1Ck6coqTkTC0gfv+XhwfuDuO
4y6uSiWVBzAYjGR/wLTbyp9/Jl1ZzB2mDapjlGtw2Da0CVMXPEeQ5nY6oalm
/AzqxFseaG4f8EJBHfcK8govAnf8/mvkB8Hg9O5g2CtaZcGa5rEQWOTVsGF9
mOI+fPLpPBp6vonjSb+TIiawD/nQ+OVUAFc41Tkw0/4jF7bqkyRwPj+NgiXP
HslgZaCtAi4+T5JDK0tAQ7dwUAWfun43wVOH9jXUxe62kf30t1R7fpuN7BeQ
ymU1QIM1kjjT5VRD1RJDC++tS7phbET5Bxi63fqR5KllC7Q03B2CstJI4mPZ
6DSZX5EzBzd6zQcwod1+AidGNtykn2/yQmPm3n+oUyz7IG/eEODwOzneyYH0
jOkBTPXVcuHl0csR+PB99hSsPXbx9nGfEHcGlHfkZcFsB50Ptw15UjjLL6ag
0FJSCq2vhOUwsS69CnYJNNVQkyxRQsVhoRr29XS0QPHJ3Bu48LV4Fn5OqVyB
0gzRGtS7zMTLRtEm3Br7fgX7fQU3DlD/Nc2EfRPGMKL7ZjgMP3sbBe3aOxxI
WxP/evC/d2XEaw5in4o=
  "]],

Cell[BoxData[
 RowBox[{"\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"white", "=", 
     RowBox[{"Closing", "[", 
      RowBox[{"previmage", ",", 
       RowBox[{"DiskMatrix", "[", "5", "]"}]}], "]"}]}], ";"}], "\n", 
   RowBox[{"srcAdjusted", "=", 
    RowBox[{"Image", "[", 
     RowBox[{
      RowBox[{"ImageData", "[", "previmage", "]"}], "/", 
      RowBox[{"ImageData", "[", "white", "]"}]}], "]"}]}], 
   "\[IndentingNewLine]", 
   RowBox[{"Opening", "[", 
    RowBox[{"srcAdjusted", ",", 
     RowBox[{"DiskMatrix", "[", "3", "]"}]}], "]"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"diff", "=", 
     RowBox[{"ImageDifference", "[", 
      RowBox[{"curimage", ",", "previmage"}], "]"}]}], ";"}], 
   "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"thresh", " ", "=", " ", 
     RowBox[{"Binarize", "[", 
      RowBox[{"diff", ",", ".2"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{"GraphicsGrid", "[", 
    RowBox[{"{", 
     RowBox[{"{", " ", 
      RowBox[{"previmage", ",", "curimage", ",", "diff", ",", "thresh"}], 
      "}"}], "}"}], "]"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"absdiff", 
      RowBox[{"(", 
       RowBox[{"image1", ",", "image2", ",", "diff"}], ")"}]}], ";", "\n", 
     RowBox[{"threshold", 
      RowBox[{"(", 
       RowBox[{"diff", ",", "diff", ",", "30", ",", "256", ",", 
        RowBox[{"CV_THRESH", "_BINARY"}]}], ")"}]}], ";", "\n", 
     RowBox[{"close", 
      RowBox[{"(", 
       RowBox[{"diff", ",", "7"}], ")"}]}], ";", "\n", 
     RowBox[{"open", 
      RowBox[{"(", 
       RowBox[{"diff", ",", "1"}], ")"}]}], ";"}], "\[IndentingNewLine]", 
    "*)"}]}]}]], "Input",
 CellChangeTimes->CompressedData["
1:eJwd0Fsow3EUB/BlUkxNxAq5Z7XJMg8yInNJmjT9XR4mwl7MNklibkkNCRnZ
TGQlLEQUEg8uDcslkSiX0ayMTItaLmXf38PpU6dv304nslJZKPWg0Wix7oFJ
voq92xV7Bv2OboaqcMU5nDPPXsHEfeczlHH6bVBfs/gONaJrJ5zqmXZBfh3n
B3Lzvzzv3H428bygT/KQD5zIO2PAmtYFJixwqVmwIUAeAtPHP8Kgc00UTfI2
ihjDsvKgbumND49DqzJh2uluFuwYZYvhTk4SBYtLEiSwwtNcDg+q2VJoYvBl
0CGYUcJc+0kzfLP0dkJNxH03uW/UW/ngtlXHqodUFqMRak1BxM0BmwoqD2m9
MPhCPAQjAstGoP9NxxjZU0cGaGj0m4WS0iBiqmR+g/SXZ27Dy4mpJxjTc/oK
l42XDpLn6V1Ql/bwCzXyoz/I3dF6WNyuLPaHQtmmPgom/tVy4PdzixHGDwrX
Ye2LnfuI/zAdKVDal50BhRZZDrzRZhfCLV4RBQWG4lJoahOUwdi65Eo4wFdX
QXWcWAHl1nwVnBzua4ei1+0uuL9atEUU0g/hP8W6ZMo=
  "]],

Cell[BoxData[
 GraphicsBox[{{}, {InsetBox[
     FormBox[
      GraphicsBox[
       TagBox[RasterBox[CompressedData["
1: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
AAAAAAAAAAAAAAAAAAAAAGvwH0NcHVs=
         "], {{0, 640}, {480, 0}}, {0, 255},
         ColorFunction->GrayLevel],
        BoxForm`ImageTag[
        "Byte", ColorSpace -> "Grayscale", Interleaving -> None],
        Selectable->False],
       BaseStyle->"ImageGraphics",
       ImageSizeRaw->{480, 640},
       PlotRange->{{0, 480}, {0, 640}}],
      TraditionalForm], {192., -189.}, {Center, Center}, {360., 360.}], 
    InsetBox[
     RowBox[{"CLosing", " ", 
      GraphicsBox[
       TagBox[RasterBox[CompressedData["
1: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
AAAAAAAAAAAAAAAAAMCvVgPAT/0Dt4DXxw==
         "], {{0, 640}, {480, 0}}, {0, 
         255},
         ColorFunction->GrayLevel],
        BoxForm`ImageTag[
        "Byte", ColorSpace -> "Grayscale", Interleaving -> None],
        Selectable->False],
       BaseStyle->"ImageGraphics",
       ImageSizeRaw->{480, 640},
       PlotRange->{{0, 480}, {0, 
        640}}]}], {876.0437949567711, -235.16058383950326`}, {
     Center, Center}, {960.0875899135422, 452.32116767900646`}, {{1., 0.}, {
     0., 1.}}]}, {}},
  ContentSelectable->True,
  ImagePadding->{{64.080645, 65.080645}, {1., 0.}},
  ImageSize->{473., Automatic},
  ImageSizeRaw->{480, 640},
  PlotRange->{{186., 582.}, {-383., 5.}},
  PlotRangePadding->Automatic]], "Input",
 CellChangeTimes->{{3.583443098242509*^9, 3.5834430988580503`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"srcminus", "=", 
   RowBox[{"ImageSubtract", "[", 
    RowBox[{"white", ",", 
     RowBox[{"ColorNegate", "@", 
      RowBox[{"FillingTransform", "@", 
       RowBox[{"ColorNegate", "[", "white", "]"}]}]}]}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"white", "=", 
   RowBox[{"Closing", "[", 
    RowBox[{"srcminus", ",", 
     RowBox[{"DiskMatrix", "[", "3", "]"}]}], "]"}]}], ";"}]}], "Input",
 CellChangeTimes->CompressedData["
1:eJwdzlsogwEcBfC1SdlWRLZynazUlpZ5WKRpbUmaNH3hYSKXl61tkhZalhe2
h6ktbTOttpJNiChJSS6NLZdkicIkpmYZi1qhfOd7+Per0+n0r+gztA/SaTRa
KXlQwtYf3m0kZIx7RgSOl+svYTASuIa1R+kXqBXY4tCjWX2HDuVNGvosCxko
HhL8QGHrd9Y96deoKBsy6+xM6G25YEGNaSUXtmWmuHCkQFcMG+c/ymB6S1lJ
9eMEJZ/7LILutaQYnpb0y6H0/EABzc4qFdxvkhCwo7NGDXuzIj3weKBqEIZY
Yi1M1S8aYHPibAwmH62T0MF7mKb+c+YYYqQmN3cYEgqWEbpCHMqdmfg4NJzQ
rLDoSmWHvMLuWZh/a56jciLsh35jXgCquziUDerlbWq/R74Lo17fE+Rbzt/g
+lI0RfVFngx0S2O/0KEL/0Hhvov+SPpqCzIg2/vprt5MyPYmeF74D3jzD84=

  "]],

Cell[BoxData["\[IndentingNewLine]"], "Input",
 CellChangeTimes->{3.583601908584914*^9}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"srcminus", "=", 
   RowBox[{"ImageSubtract", "[", 
    RowBox[{"white", ",", 
     RowBox[{"ColorNegate", "@", 
      RowBox[{"FillingTransform", "@", 
       RowBox[{"ColorNegate", "[", "white", "]"}]}]}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"GraphicsGrid", "[", 
  RowBox[{"{", 
   RowBox[{"{", 
    RowBox[{"src", ",", "white", ",", "srcminus"}], "}"}], "}"}], 
  "]"}]}], "Input",
 CellChangeTimes->CompressedData["
1:eJwdzl0ogwEYBeC1LcVWRLbyO1mtNlpGLdK0LEmTaOFimrCbrW2SFmu13LBd
TFmy+VltJSNElKRczDS2mGSJMiSmZhmLWqF857t4e+p0Or0VA4YuNZVCoZQS
B8VMfeBuJyGlxWhhaCrXX8LVsO8a1h6nX6CWb4/DBc3mO3TIb9LQY13OQNEw
/wcK2r/pMcKvMWEWzKmfyYHutgsG1Jg3cmFHZpINRwt0xbBp8aMMpvfklWQ/
riDlsp+F0LWVFMGzksFmKIkcyaBljtcJ/S1iBezuqVHCfnpYBU+GeGoYZIi0
MNWwYoCtifNxmHy0TUAH536K/G8u2/BAaHaxR6BCxjBCZ5BFejAdN0HDKcUG
i646ZyCnsG8W5t9a5slcEfJCrzHPB5W9LNJG5fo+ua9qPoRRt+cJcq2RN7i9
Fk2RfeFCBrokD7/QoQv9QYHfSX0kfLWv0iDT/emq3k1IA1V1S/Afd0gPkw==

  "]],

Cell[BoxData[
 RowBox[{
  RowBox[{"whiteminus", "=", 
   RowBox[{"ImageSubtract", "[", 
    RowBox[{"white", ",", 
     RowBox[{"ColorNegate", "@", 
      RowBox[{"FillingTransform", "@", 
       RowBox[{"ColorNegate", "[", "white", "]"}]}]}]}], "]"}]}], 
  ";"}]], "Input",
 CellChangeTimes->CompressedData["
1:eJxTTMoPSmViYGCQBGIQbc6Td/jOpleOzHeZT4HoKvm8iyB6xanl10C08ZFP
T0F0tlbvMxA9K2vtOxA9yefGJxC9oGPJDxBtVKD1G0Rr+35luQukv1Tos4Fo
LsuJXCB6rtd5bhCdVbOGH0T7/2gTB9ElwrnSINp+9gc5EP1pm48yWP2zEDCt
Iv5EH0TPWP/GCESfkUl2BtF25w65gOj6aeqBIPqgm3kIiA4LN4wB0Qksp+JB
9PEU9VQQfYzbKBtEv7dalg+iPV6drQTRbx50NoLoSQr32sHum8aZfx9I18wQ
LwLRIS7cZSB6+jExML2r71kViM4/wdAJoqUuB04E0QqisVNAtNDN+plg8ZCT
C0H0wjKB5SA6JkIMTNvErN4BNj/eeS+IvjJ3wSOwfr7wxyAaAPvT578=
  "]],

Cell[BoxData[
 RowBox[{"GraphicsGrid", "[", 
  RowBox[{"{", 
   RowBox[{"{", 
    RowBox[{"src", ",", "white", ",", "whiteminus"}], "}"}], "}"}], 
  "]"}]], "Input",
 CellChangeTimes->CompressedData["
1:eJxTTMoPSmViYGCQBGIQbc6Td/jOpleOzHeZT4HoKvm8iyB6xanl10C08ZFP
T0F0tlbvMxA9K2vtOxA9yefGJxC9oGPJDxBtVKD1G0Rr+35luQukv1Tos4Fo
LsuJXCB6rtd5bhCdVbOGH0T7/2gTB9ElwrnSINp+9gc5EP1pm48yWP2zEDCt
Iv5EH0TPWP/GCESfkUl2BtF25w65gOj6aeqBIPqgm3kIiA4LN4wB0Qksp+JB
9PEU9VQQfYzbKBtEv7dalg+iPV6drQTRbx50NoLoSQr32sHum8aZfx9I18wQ
LwLRIS7cZSB6+jExML2r71kViM4/wdAJoqUuB04E0QqisVNAtNDN+plg8ZCT
C0H0wjKB5SA6JkIMTNvErN4BNj/eeS+IvjJ3wSOwfr7wxyAaAPvT578=
  "]],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"black", "  ", "=", " ", 
    RowBox[{"ColorNegate", "[", "white", "]"}]}], ";"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"blackminus", "=", 
     RowBox[{"ImageSubtract", "[", 
      RowBox[{"imgblack", ",", 
       RowBox[{"ColorNegate", "@", 
        RowBox[{"FillingTransform", "@", 
         RowBox[{"ColorNegate", "[", "imgblack", "]"}]}]}]}], "]"}]}], ";"}], 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"blackminus", "=", 
   RowBox[{"ImageSubtract", "[", 
    RowBox[{"imgblack", ",", 
     RowBox[{"ColorNegate", "[", "imgblack", "]"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"GraphicsGrid", "[", 
  RowBox[{"{", 
   RowBox[{"{", 
    RowBox[{"src", ",", "black", ",", "blackminus"}], "}"}], "}"}], 
  "]"}]}], "Input",
 CellChangeTimes->CompressedData["
1:eJxTTMoPSmViYGCQBGIQbc6Td/jOpleOzHeZT4HoKvm8iyB6xanl10C08ZFP
T0F0tlbvMxA9K2vtOxA9yefGJxC9oGPJDxBtVKD1G0Rr+35luQukv1Tos4Fo
LsuJXCB6rtd5bhCdVbOGH0T7/2gTB9ElwrnSINp+9gc5EP1pm48yWP2zEDCt
Iv5EH0TPWP/GCESfkUl2BtF25w65gOj6aeqBIPqgm3kIiA4LN4wB0Qksp+JB
9PEU9VQQfYzbKBtEv7dalg+iPV6drQTRbx50NoLoSQr32sHum8aZfx9I18wQ
LwLRIS7cZSB6+jExML2r71kViM4/wdAJoqUuB04E0QqisVNAtNDN+plg/csf
zAPRLbPvLQLRTuV6i0F0TkX1ChD9SoBhJVi/XfEGEL2m9vsWEA0AQlfpOg==

  "]],

Cell[BoxData[{
 RowBox[{
  RowBox[{"cells", "=", 
   RowBox[{"SelectComponents", "[", 
    RowBox[{
     RowBox[{"DeleteBorderComponents", "[", 
      RowBox[{"Binarize", "[", 
       RowBox[{"i", ",", 
        RowBox[{"{", 
         RowBox[{"0", ",", ".7"}], "}"}]}], "]"}], "]"}], ",", 
     RowBox[{"{", 
      RowBox[{"\"\<Area\>\"", ",", "\"\<Holes\>\""}], "}"}], ",", 
     RowBox[{
      RowBox[{
       RowBox[{"100", "<", "#1", "<", "1000"}], "&&", 
       RowBox[{"#2", ">", "0"}]}], "&"}]}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"circles", "=", 
   RowBox[{
    RowBox[{"ComponentMeasurements", "[", 
     RowBox[{
      RowBox[{"ImageMultiply", "[", 
       RowBox[{"i", ",", "cells"}], "]"}], ",", 
      RowBox[{"{", 
       RowBox[{"\"\<Centroid\>\"", ",", "\"\<EquivalentDiskRadius\>\""}], 
       "}"}]}], "]"}], "[", 
    RowBox[{"[", 
     RowBox[{"All", ",", "2"}], "]"}], "]"}]}], ";"}], "\n", 
 RowBox[{"Show", "[", 
  RowBox[{"i", ",", 
   RowBox[{"Graphics", "[", 
    RowBox[{"{", 
     RowBox[{"Red", ",", "Thick", ",", 
      RowBox[{
       RowBox[{
        RowBox[{"Circle", "@@", "#"}], "&"}], "/@", "circles"}]}], "}"}], 
    "]"}]}], "]"}]}], "Input",
 CellChangeTimes->{{3.583436315438991*^9, 3.583436368120729*^9}, {
  3.5834364274413424`*^9, 3.5834364692434883`*^9}, {3.58343659158645*^9, 
  3.583436596411428*^9}, {3.583436661419263*^9, 3.583436694759347*^9}, {
  3.583436741141678*^9, 3.5834367613261957`*^9}, {3.58343683966567*^9, 
  3.583436849483515*^9}, {3.583436884538213*^9, 3.583436894477858*^9}, {
  3.5834369253901873`*^9, 3.583436988217811*^9}, {3.5834370194086246`*^9, 
  3.583437047518951*^9}, {3.583437082397332*^9, 3.583437082653151*^9}, {
  3.583437183127825*^9, 3.583437213060013*^9}}],

Cell[BoxData[
 RowBox[{"Threshold", "[", 
  RowBox[{
   RowBox[{"ColorNegate", "[", "white", "]"}], ",", 
   RowBox[{"{", 
    RowBox[{"\"\<Soft\>\"", ",", "\"\<Cluster\>\""}], "}"}]}], "]"}]], "Input",\

 CellChangeTimes->{{3.583436315438991*^9, 3.583436368120729*^9}, {
  3.5834364274413424`*^9, 3.5834364692434883`*^9}, {3.58343659158645*^9, 
  3.583436596411428*^9}, {3.583436661419263*^9, 3.583436694759347*^9}, {
  3.583436741141678*^9, 3.5834367613261957`*^9}, {3.58343683966567*^9, 
  3.583436849483515*^9}, {3.583436884538213*^9, 3.583436894477858*^9}, {
  3.5834369253901873`*^9, 3.583436988217811*^9}, {3.5834370194086246`*^9, 
  3.583437047518951*^9}, {3.583437082397332*^9, 3.583437082653151*^9}, {
  3.583437183127825*^9, 3.583437213060013*^9}}],

Cell[BoxData[{
 RowBox[{"srcAdjusted", "=", 
  RowBox[{"ImageAdjust", "[", 
   RowBox[{
    RowBox[{"Image", "[", 
     RowBox[{
      RowBox[{"ImageData", "[", "src", "]"}], "/", 
      RowBox[{"ImageData", "[", "white", "]"}]}], "]"}], ",", ".00"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"Open", "[", "srcAdjusted", "]"}]}], "Input",
 CellChangeTimes->{{3.583436315438991*^9, 3.583436368120729*^9}, {
  3.5834364274413424`*^9, 3.5834364692434883`*^9}, {3.58343659158645*^9, 
  3.583436596411428*^9}, {3.583436661419263*^9, 3.583436670311504*^9}}]
},
WindowSize->{1140, 787},
WindowMargins->{{147, Automatic}, {Automatic, 4}},
FrontEndVersion->"8.0 for Mac OS X x86 (32-bit, 64-bit Kernel) (August 26, \
2012)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[557, 20, 6141, 98, 193, "Input"],
Cell[6701, 120, 92, 1, 27, "Input"],
Cell[6796, 123, 5200, 78, 58, "Input"],
Cell[11999, 203, 5250, 79, 58, "Input"],
Cell[17252, 284, 5526, 84, 88, "Input"],
Cell[22781, 370, 5164, 77, 58, "Input"],
Cell[27948, 449, 1042, 26, 58, InheritFromParent],
Cell[28993, 477, 1659, 44, 73, InheritFromParent],
Cell[30655, 523, 459, 9, 43, InheritFromParent],
Cell[31117, 534, 1092, 28, 43, InheritFromParent],
Cell[32212, 564, 1847, 50, 58, InheritFromParent],
Cell[34062, 616, 677, 14, 43, InheritFromParent],
Cell[34742, 632, 1164, 28, 58, InheritFromParent],
Cell[35909, 662, 4892, 72, 43, "Input"],
Cell[40804, 736, 4883, 72, 27, "Input"],
Cell[45690, 810, 4816, 70, 43, "Input"],
Cell[50509, 882, 5090, 77, 43, "Input"],
Cell[55602, 961, 5843, 101, 118, "Input"],
Cell[61448, 1064, 6010, 101, 103, "Input"],
Cell[67461, 1167, 6027, 96, 163, "Input"],
Cell[73491, 1265, 118, 2, 27, "Input"],
Cell[73612, 1269, 2729, 37, 27, "Input"],
Cell[76344, 1308, 3107, 79, 268, "Input"],
Cell[79454, 1389, 2195, 57, 148, "Input"],
Cell[81652, 1448, 2463, 60, 283, "Input"],
Cell[84118, 1510, 6628, 123, 353, "Input"],
Cell[90749, 1635, 1003, 24, 58, "Input"],
Cell[91755, 1661, 87, 1, 43, "Input"],
Cell[91845, 1664, 970, 24, 43, "Input"],
Cell[92818, 1690, 740, 17, 27, "Input"],
Cell[93561, 1709, 631, 14, 27, "Input"],
Cell[94195, 1725, 1304, 35, 73, "Input"],
Cell[95502, 1762, 1744, 44, 58, "Input"],
Cell[97249, 1808, 759, 14, 27, "Input"],
Cell[98011, 1824, 556, 12, 43, "Input"]
}
]
*)

(* End of internal cache information *)
